<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="651px" preserveAspectRatio="none" style="width:1428px;height:651px;background:#FFFFFF;" version="1.1" viewBox="0 0 1428 651" width="1428px" zoomAndPan="magnify"><title>C4 Level 3 - CreateUser Feature in Auth Microservice</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="418.5986" x="497.7007" y="30.9951">C4 Level 3 - CreateUser Feature in Auth Microservice</text><!--cluster API + Application Layer--><g class="cluster" data-entity="API + Application Layer" data-source-line="12" data-uid="ent0002" id="cluster_API + Application Layer"><path d="M8.5,59.2969 L211.3486,59.2969 A3.75,3.75 0 0 1 213.8486,61.7969 L220.8486,97.5938 L793.5,97.5938 A2.5,2.5 0 0 1 796,100.0938 L796,592.7969 A2.5,2.5 0 0 1 793.5,595.2969 L8.5,595.2969 A2.5,2.5 0 0 1 6,592.7969 L6,61.7969 A2.5,2.5 0 0 1 8.5,59.2969" fill="#F0F8FF" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="220.8486" y1="97.5938" y2="97.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="185.8486" x="18" y="82.292">API + Application Layer</text></g><!--cluster Domain Layer--><g class="cluster" data-entity="Domain Layer" data-source-line="21" data-uid="ent0008" id="cluster_Domain Layer"><path d="M822.5,258.2969 L948.3076,258.2969 A3.75,3.75 0 0 1 950.8076,260.7969 L957.8076,296.5938 L1196.5,296.5938 A2.5,2.5 0 0 1 1199,299.0938 L1199,600.7969 A2.5,2.5 0 0 1 1196.5,603.2969 L822.5,603.2969 A2.5,2.5 0 0 1 820,600.7969 L820,260.7969 A2.5,2.5 0 0 1 822.5,258.2969" fill="#F9F0FF" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="820" x2="957.8076" y1="296.5938" y2="296.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="108.8076" x="832" y="281.292">Domain Layer</text></g><!--cluster Persistence Layer--><g class="cluster" data-entity="Persistence Layer" data-source-line="28" data-uid="ent0012" id="cluster_Persistence Layer"><path d="M1225.5,459.2969 L1383.3408,459.2969 A3.75,3.75 0 0 1 1385.8408,461.7969 L1392.8408,497.5938 L1418.5,497.5938 A2.5,2.5 0 0 1 1421,500.0938 L1421,592.7969 A2.5,2.5 0 0 1 1418.5,595.2969 L1225.5,595.2969 A2.5,2.5 0 0 1 1223,592.7969 L1223,461.7969 A2.5,2.5 0 0 1 1225.5,459.2969" fill="#E8FFF8" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1223" x2="1392.8408" y1="497.5938" y2="497.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="140.8408" x="1235" y="482.292">Persistence Layer</text></g><!--cluster EmailService Module--><g class="cluster" data-entity="EmailService Module" data-source-line="33" data-uid="ent0014" id="cluster_EmailService Module"><path d="M1225.5,258.2969 L1406.6035,258.2969 A3.75,3.75 0 0 1 1409.1035,260.7969 L1416.1035,296.5938 L1416.5,296.5938 A2.5,2.5 0 0 1 1419,299.0938 L1419,391.7969 A2.5,2.5 0 0 1 1416.5,394.2969 L1225.5,394.2969 A2.5,2.5 0 0 1 1223,391.7969 L1223,260.7969 A2.5,2.5 0 0 1 1225.5,258.2969" fill="#FFF5F0" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1223" x2="1416.1035" y1="296.5938" y2="296.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="164.1035" x="1235" y="281.292">EmailService Module</text></g><!--entity Endpoint--><g class="entity" data-entity="Endpoint" data-source-line="13" data-uid="ent0003" id="entity_Endpoint"><rect fill="#F1F1F1" height="68.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="177.0459" x="484.5" y="110.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.0459" x="502.5" y="141.292">CreateUserEndpoint</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.9424" x="518.0518" y="157.5889">(FastEndpoints)</text></g><!--entity Command--><g class="entity" data-entity="Command" data-source-line="14" data-uid="ent0004" id="entity_Command"><rect fill="#F1F1F1" height="68.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="186.6914" x="90.5" y="510.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150.6914" x="108.5" y="541.292">CreateUserCommand</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.6807" x="125.0054" y="557.5889">(Command DTO)</text></g><!--entity Validator--><g class="entity" data-entity="Validator" data-source-line="15" data-uid="ent0005" id="entity_Validator"><rect fill="#F1F1F1" height="68.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="177.9482" x="164" y="309.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.9482" x="182" y="340.292">CreateUserValidator</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.9336" x="190.5073" y="356.5889">(FluentValidation)</text></g><!--entity Response--><g class="entity" data-entity="Response" data-source-line="16" data-uid="ent0006" id="entity_Response"><rect fill="#F1F1F1" height="68.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182.6035" x="377.5" y="309.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.6035" x="395.5" y="340.292">CreateUserResponse</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.5928" x="412.0054" y="356.5889">(Response DTO)</text></g><!--entity UserManager--><g class="entity" data-entity="UserManager" data-source-line="17" data-uid="ent0007" id="entity_UserManager"><rect fill="#F1F1F1" height="68.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="184.6475" x="595.5" y="309.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.6475" x="613.5" y="340.292">UserManager&lt;User&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128.2559" x="623.6958" y="356.5889">(ASP.NET Identity)</text></g><!--entity User--><g class="entity" data-entity="User" data-source-line="22" data-uid="ent0009" id="entity_User"><rect fill="#F1F1F1" height="68.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="157.0098" x="881.5" y="309.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="944.0498" y="340.292">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.0098" x="899.5" y="356.5889">(Aggregate Root)</text></g><!--entity Event--><g class="entity" data-entity="Event" data-source-line="23" data-uid="ent0010" id="entity_Event"><rect fill="#F1F1F1" height="68.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145.8057" x="836" y="510.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.623" x="865.0913" y="541.292">UserCreated</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.8057" x="854" y="557.5889">(Domain Event)</text></g><!--entity VOs--><g class="entity" data-entity="VOs" data-source-line="24" data-uid="ent0011" id="entity_VOs"><rect fill="#F1F1F1" height="84.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164.7754" x="1017.5" y="502.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.5762" x="1051.0996" y="533.292">HonorificTitle,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128.7754" x="1035.5" y="549.5889">ProfessionalProfile</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.8145" x="1080.4805" y="565.8857">(VOs)</text></g><!--entity ORM--><g class="entity" data-entity="ORM" data-source-line="29" data-uid="ent0013" id="entity_ORM"><rect fill="#F1F1F1" height="68.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165.5137" x="1239" y="510.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.8545" x="1258.3296" y="541.292">UserConfiguration</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.5137" x="1257" y="557.5889">(EF Core Mapping)</text></g><!--entity EmailService--><g class="entity" data-entity="EmailService" data-source-line="34" data-uid="ent0015" id="entity_EmailService"><rect fill="#F1F1F1" height="68.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="162.5059" x="1239.5" y="309.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.7119" x="1273.397" y="340.292">IEmailService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.5059" x="1257.5" y="356.5889">(Monolith Module)</text></g><!--link Endpoint to Command--><g class="link" data-entity-1="Endpoint" data-entity-2="Command" data-source-line="38" data-uid="lnk16" id="link_Endpoint_Command"><path d="M484.48,151.2969 C355.25,161.3669 124.75,187.8169 74,250.2969 C31.41,302.7369 52.08,338.3969 74,402.2969 C88.44,444.3869 116.8623,479.3296 142.8523,505.7496" fill="none" id="Endpoint-to-Command" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="147.06,510.0269,143.6,500.8058,143.5536,506.4625,137.8969,506.416,147.06,510.0269" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.5645" x="83" y="348.3638">receives</text></g><!--link Endpoint to Validator--><g class="link" data-entity-1="Endpoint" data-entity-2="Validator" data-source-line="39" data-uid="lnk17" id="link_Endpoint_Validator"><path d="M484.17,179.0269 C462.76,188.0269 440.23,198.3369 420,209.2969 C391.6,224.6769 385.59,230.5969 360,250.2969 C335.87,268.8769 314.501,287.1668 294.241,305.2068" fill="none" id="Endpoint-to-Validator" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="289.76,309.1969,299.1416,306.1992,293.4942,305.8719,293.8215,300.2245,289.76,309.1969" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58.9697" x="429" y="230.3638">validates</text></g><!--link Validator to Command--><g class="link" data-entity-1="Validator" data-entity-2="Command" data-source-line="40" data-uid="lnk18" id="link_Validator_Command"><path d="M241.3,378.5569 C228.57,415.2569 210.315,467.8978 197.615,504.5378" fill="none" id="Validator-to-Command" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="195.65,510.2069,202.3769,503.0132,197.2875,505.4826,194.8181,500.3932,195.65,510.2069" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85.541" x="238" y="431.3638">checks props</text></g><!--link Endpoint to UserManager--><g class="link" data-entity-1="Endpoint" data-entity-2="UserManager" data-source-line="41" data-uid="lnk19" id="link_Endpoint_UserManager"><path d="M600.34,179.5869 C607.42,188.9669 614.8,199.3169 621,209.2969 C641.33,241.9969 658.1236,276.2309 670.7336,303.7909" fill="none" id="Endpoint-to-UserManager" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="673.23,309.2469,673.1228,299.3986,671.1497,304.7002,665.8481,302.7271,673.23,309.2469" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.1099" x="648" y="230.3638">persists user</text></g><!--link Endpoint to User--><g class="link" data-entity-1="Endpoint" data-entity-2="User" data-source-line="42" data-uid="lnk20" id="link_Endpoint_User"><path d="M661.76,173.8569 C689.87,183.8369 720.71,195.9469 748,209.2969 C807.58,238.4469 866.4792,276.8282 908.3492,305.8582" fill="none" id="Endpoint-to-User" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="913.28,309.2769,908.163,300.8617,909.171,306.428,903.6047,307.436,913.28,309.2769" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.709" x="817" y="230.3638">invokes factory</text></g><!--link User to VOs--><g class="link" data-entity-1="User" data-entity-2="VOs" data-source-line="43" data-uid="lnk21" id="link_User_VOs"><path d="M983.75,378.5569 C1007.78,412.7069 1041.5076,460.6597 1067.3276,497.3597" fill="none" id="User-to-VOs" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1070.78,502.2669,1068.8728,492.6044,1067.903,498.1775,1062.3299,497.2077,1070.78,502.2669" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29.7832" x="1034" y="431.3638">uses</text></g><!--link User to Event--><g class="link" data-entity-1="User" data-entity-2="Event" data-source-line="44" data-uid="lnk22" id="link_User_Event"><path d="M951.35,378.5569 C941.94,415.2569 928.4895,467.7547 919.0995,504.3947" fill="none" id="User-to-Event" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="917.61,510.2069,923.7191,502.4816,918.8513,505.3634,915.9695,500.4956,917.61,510.2069" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38.4668" x="951" y="431.3638">raises</text></g><!--link User to ORM--><g class="link" data-entity-1="User" data-entity-2="ORM" data-source-line="45" data-uid="lnk23" id="link_User_ORM"><path d="M1038.62,374.5869 C1086.33,393.9269 1147.72,421.1069 1199,451.2969 C1228.24,468.5069 1254.0601,487.6521 1277.3801,506.3621" fill="none" id="User-to-ORM" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1282.06,510.1169,1277.5433,501.3648,1278.1601,506.9879,1272.5369,507.6047,1282.06,510.1169" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.9204" x="1189" y="431.3638">mapped with EF</text></g><!--link Endpoint to EmailService--><g class="link" data-entity-1="Endpoint" data-entity-2="EmailService" data-source-line="46" data-uid="lnk24" id="link_Endpoint_EmailService"><path d="M661.51,147.3569 C786.28,152.4269 1018.77,172.5869 1199,250.2969 C1231.59,264.3469 1258.8639,284.9238 1281.8139,305.2038" fill="none" id="Endpoint-to-EmailService" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1286.31,309.1769,1282.2145,300.2199,1282.5632,305.866,1276.9171,306.2147,1286.31,309.1769" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78.019" x="1176" y="230.3638">sends email</text></g><!--link Endpoint to Response--><g class="link" data-entity-1="Endpoint" data-entity-2="Response" data-source-line="47" data-uid="lnk25" id="link_Endpoint_Response"><path d="M541.36,179.5169 C533.72,188.7269 526.03,199.0169 520,209.2969 C501.3,241.1869 488.8735,275.445 480.2535,303.305" fill="none" id="Endpoint-to-Response" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="478.48,309.0369,484.9615,301.6213,479.9579,304.2603,477.3189,299.2567,478.48,309.0369" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.3521" x="529" y="230.3638">returns DTO</text></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="584.459" x="414.7705" y="631.292">Shows internal components and interactions of CreateUser within the Auth service.</text><!--SRC=[TLHHQzim47xthpYwXsviAOLja9LH2AdD2iqIagmlwnw4VB55P4b8Shem-jztikpOJhSNSpvzTz_TfzEvlL26MLO1rvNH2fNV-AD4iCWzKuN4n9qWEUvOBVqMV_kP58Mg20sSFcYJonucXK9_D0ZQ-b8Fubt9SlqiL04x9jqmis5v7lpJ9F724_ty4ppW0ILyX0dCBJAFFnnQoCYgBO9GCAjz2Gl1hQQ3W-2OS6Qyq0esfNvs1A6w59DzPmwOogEVyO1qe7V3xC_2bvJPbnYpjuclaYIvXDdg7jx3p1WfE6ju7jYHEZUCxrc1SF4Vm0MyoQwpQPR1dmJWPq-NgjnegkP9lSsOyzslU_SBc8FkTnmprrL5JL18Qy7TTXa3MiSO_yYao9dNDf38caHeFLHU33iXne5hT2IQGuhhp9wgyuIG05umHGhOhy6-fOZPPdNrFTt2VKw4mXzZr02Pl0H5xtJ5n2iPXzwWtHTIhzKkP0ZfYy9YGON2MclV9-yWiOiWKfihFL0ThQp13C1lMcahTe9lmy1zU58hgtVe70d3PB253Cq_Bjlx82DMlKBhXFEeE9wN_kg8wa_fvhDfN_zSgvqeQjjS0H6a6TqSJVI26KDF898jruj8bbBzSXF741Owh-b1dkZ-SHW4oxBFsNKal1z2Y6n1JKiHtas3RYKPO2Bh6cLJdYk5SKatYJ2Pt7PJ1ZTXGw0uuDdvQPm8SOWsGNhlE0SlaUyT6AlFUGR3GZWJXNLGXsj-1II4K0UzHqURXHFDCMdSJK5BHySKvtfVCmIX1IP6VfATl1NT1ERDCe0q6xED9B-X1Q5o1nYSOzpfpGITQ6FHgg7NynS0]--></g></svg>