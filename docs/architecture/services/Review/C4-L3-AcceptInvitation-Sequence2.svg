<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1844px" preserveAspectRatio="none" style="width:3629px;height:1844px;background:#FFFFFF;" version="1.1" viewBox="0 0 3629 1844" width="3629px" zoomAndPan="magnify"><title>Accept Invitation - Sequence Diagram (C4-L3)</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="361.0742" x="1630.3118" y="27.9951">Accept Invitation - Sequence Diagram (C4-L3)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="1632.4971" x="994.6003" y="1832.1357">Handles an "Accept Invitation" request, validate command, load article &amp; invitation by token, resolve/create reviewer via Auth gRPC if needed, accept invitation, assign reviewer, persist, and publish domain event to notify the editor.</text><rect fill="#E6F0FF" height="1773.8438" style="stroke:#181818;stroke-width:0.5;" width="1564.4302" x="392.1064" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="276.1309" x="1036.2561" y="69.2871">Application Layer</text><rect fill="#FFF0E0" height="1773.8438" style="stroke:#181818;stroke-width:0.5;" width="754.0273" x="1968.5366" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="217.6152" x="2236.7427" y="69.2871">Domain Layer</text><rect fill="#FFE0E0" height="1773.8438" style="stroke:#181818;stroke-width:0.5;" width="397.2734" x="2734.564" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="184.1465" x="2841.1274" y="69.2871">Persistence</text><rect fill="#E0F7FF" height="1773.8438" style="stroke:#181818;stroke-width:0.5;" width="472.8604" x="3143.8374" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="250.9473" x="3254.7939" y="69.2871">External &amp; Infra</text><g><title>AcceptInvitationHandler</title><rect fill="#FFFFFF" height="1457.625" style="stroke:#181818;stroke-width:1;" width="10" x="584.3369" y="245.9219"/></g><rect fill="none" height="276.5625" style="stroke:#000000;stroke-width:1.5;" width="3008.4849" x="386.1064" y="607.4844"/><g><title>Reviewer</title><rect fill="#000000" fill-opacity="0.00000" height="1556.8125" width="8" x="68.9482" y="164.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="72" x2="72" y1="164.7344" y2="1721.5469"/></g><g><title>AcceptInvitationHandler</title><rect fill="#000000" fill-opacity="0.00000" height="1556.8125" width="8" x="585.3369" y="164.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="589.1064" x2="589.1064" y1="164.7344" y2="1721.5469"/></g><g><title>AcceptInvitationValidator</title><rect fill="#000000" fill-opacity="0.00000" height="1556.8125" width="8" x="1010.8896" y="164.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1013.9946" x2="1013.9946" y1="164.7344" y2="1721.5469"/></g><g><title>EventPublisher</title><rect fill="#000000" fill-opacity="0.00000" height="1556.8125" width="8" x="1346.8818" y="164.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1350.7847" x2="1350.7847" y1="164.7344" y2="1721.5469"/></g><g><title>ReviewerAssignedHandler</title><rect fill="#000000" fill-opacity="0.00000" height="1556.8125" width="8" x="1740.0498" y="164.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1743.563" x2="1743.563" y1="164.7344" y2="1721.5469"/></g><g><title>Article</title><rect fill="#000000" fill-opacity="0.00000" height="1556.8125" width="8" x="2070.7637" y="164.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2074.5366" x2="2074.5366" y1="164.7344" y2="1721.5469"/></g><g><title>ReviewInvitation</title><rect fill="#000000" fill-opacity="0.00000" height="1556.8125" width="8" x="2363.1367" y="164.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2366.1636" x2="2366.1636" y1="164.7344" y2="1721.5469"/></g><g><title>Reviewer</title><rect fill="#000000" fill-opacity="0.00000" height="1556.8125" width="8" x="2612.3369" y="164.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2616.1099" x2="2616.1099" y1="164.7344" y2="1721.5469"/></g><g><title>Repository + DbContext</title><rect fill="#000000" fill-opacity="0.00000" height="1556.8125" width="8" x="2929.2007" y="164.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2932.564" x2="2932.564" y1="164.7344" y2="1721.5469"/></g><g><title>PersonService</title><rect fill="#000000" fill-opacity="0.00000" height="1556.8125" width="8" x="3262.2144" y="164.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3265.8374" x2="3265.8374" y1="164.7344" y2="1721.5469"/></g><g><title>EmailService</title><rect fill="#000000" fill-opacity="0.00000" height="1556.8125" width="8" x="3499.6445" y="164.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3503.5913" x2="3503.5913" y1="164.7344" y2="1721.5469"/></g><g class="participant participant-head" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="129.8965" x="5" y="158.1309">Reviewer</text><ellipse cx="72.9482" cy="80.6406" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M72.9482,88.6406 L72.9482,115.6406 M59.9482,96.6406 L85.9482,96.6406 M72.9482,115.6406 L59.9482,130.6406 M72.9482,115.6406 L85.9482,130.6406" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="129.8965" x="5" y="1746.5371">Reviewer</text><ellipse cx="72.9482" cy="1761.6406" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M72.9482,1769.6406 L72.9482,1796.6406 M59.9482,1777.6406 L85.9482,1777.6406 M72.9482,1796.6406 L59.9482,1811.6406 M72.9482,1796.6406 L85.9482,1811.6406" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Handler"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="376.4609" x="401.1064" y="79.8906"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="362.4609" x="408.1064" y="114.7373">AcceptInvitationHandler</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="146.1182" x="516.2778" y="149.6592">(MediatR)</text></g><g class="participant participant-tail" data-participant="Handler"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="376.4609" x="401.1064" y="1720.5469"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="362.4609" x="408.1064" y="1755.3936">AcceptInvitationHandler</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="146.1182" x="516.2778" y="1790.3154">(MediatR)</text></g><g class="participant participant-head" data-participant="Validator"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="393.79" x="817.9946" y="79.8906"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="379.79" x="824.9946" y="114.7373">AcceptInvitationValidator</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="267.7148" x="881.0322" y="149.6592">(FluentValidation)</text></g><g class="participant participant-tail" data-participant="Validator"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="393.79" x="817.9946" y="1720.5469"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="379.79" x="824.9946" y="1755.3936">AcceptInvitationValidator</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="267.7148" x="881.0322" y="1790.3154">(FluentValidation)</text></g><g class="participant participant-head" data-participant="EventPub"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="238.1943" x="1231.7847" y="79.8906"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="224.1943" x="1238.7847" y="114.7373">EventPublisher</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="146.1182" x="1277.8228" y="149.6592">(MediatR)</text></g><g class="participant participant-tail" data-participant="EventPub"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="238.1943" x="1231.7847" y="1720.5469"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="224.1943" x="1238.7847" y="1755.3936">EventPublisher</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="146.1182" x="1277.8228" y="1790.3154">(MediatR)</text></g><g class="participant participant-head" data-participant="RAssignedH"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="406.9736" x="1540.563" y="79.8906"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="392.9736" x="1547.563" y="114.7373">ReviewerAssignedHandler</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="327.7881" x="1580.1558" y="149.6592">(MediatR Notification)</text></g><g class="participant participant-tail" data-participant="RAssignedH"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="406.9736" x="1540.563" y="1720.5469"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="392.9736" x="1547.563" y="1755.3936">ReviewerAssignedHandler</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="327.7881" x="1580.1558" y="1790.3154">(MediatR Notification)</text></g><g class="participant participant-head" data-participant="Article"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="194.4541" x="1977.5366" y="79.8906"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="96.2402" x="2026.6436" y="114.7373">Article</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="180.4541" x="1984.5366" y="149.6592">(Aggregate)</text></g><g class="participant participant-tail" data-participant="Article"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="194.4541" x="1977.5366" y="1720.5469"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="96.2402" x="2026.6436" y="1755.3936">Article</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="180.4541" x="1984.5366" y="1790.3154">(Aggregate)</text></g><g class="participant participant-head" data-participant="Invitation"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="263.9463" x="2235.1636" y="79.8906"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="249.9463" x="2242.1636" y="114.7373">ReviewInvitation</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="180.4541" x="2276.9097" y="149.6592">(Aggregate)</text></g><g class="participant participant-tail" data-participant="Invitation"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="263.9463" x="2235.1636" y="1720.5469"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="249.9463" x="2242.1636" y="1755.3936">ReviewInvitation</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="180.4541" x="2276.9097" y="1790.3154">(Aggregate)</text></g><g class="participant participant-head" data-participant="Reviewer"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="194.4541" x="2519.1099" y="79.8906"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="139.1748" x="2546.7495" y="114.7373">Reviewer</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="180.4541" x="2526.1099" y="149.6592">(Aggregate)</text></g><g class="participant participant-tail" data-participant="Reviewer"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="194.4541" x="2519.1099" y="1720.5469"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="139.1748" x="2546.7495" y="1755.3936">Reviewer</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="180.4541" x="2526.1099" y="1790.3154">(Aggregate)</text></g><g class="participant participant-head" data-participant="Persistence"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="379.2734" x="2743.564" y="79.8906"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="365.2734" x="2750.564" y="114.7373">Repository + DbContext</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="139.248" x="2863.5767" y="149.6592">(EF Core)</text></g><g class="participant participant-tail" data-participant="Persistence"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="379.2734" x="2743.564" y="1720.5469"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="365.2734" x="2750.564" y="1755.3936">Repository + DbContext</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="139.248" x="2863.5767" y="1790.3154">(EF Core)</text></g><g class="participant participant-head" data-participant="PersonSvc"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="226.7539" x="3152.8374" y="79.8906"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="212.7539" x="3159.8374" y="114.7373">PersonService</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="102.334" x="3215.0474" y="149.6592">(gRPC)</text></g><g class="participant participant-tail" data-participant="PersonSvc"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="226.7539" x="3152.8374" y="1720.5469"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="212.7539" x="3159.8374" y="1755.3936">PersonService</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="102.334" x="3215.0474" y="1790.3154">(gRPC)</text></g><g class="participant participant-head" data-participant="EmailSvc"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="208.1064" x="3399.5913" y="79.8906"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="194.1064" x="3406.5913" y="114.7373">EmailService</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="132.4951" x="3437.397" y="149.6592">(Module)</text></g><g class="participant participant-tail" data-participant="EmailSvc"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="208.1064" x="3399.5913" y="1720.5469"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="194.1064" x="3406.5913" y="1755.3936">EmailService</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="132.4951" x="3437.397" y="1790.3154">(Module)</text></g><g><title>AcceptInvitationHandler</title><rect fill="#FFFFFF" height="1457.625" style="stroke:#181818;stroke-width:1;" width="10" x="584.3369" y="245.9219"/></g><g class="message" data-participant-1="Client" data-participant-2="Handler"><polygon fill="#181818" points="572.3369,241.9219,582.3369,245.9219,572.3369,249.9219,576.3369,245.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="72.9482" x2="578.3369" y1="245.9219" y2="245.9219"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="371.957" x="79.9482" y="204.7246">AcceptInvitationCommand</text><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="240.9258" x="79.9482" y="237.3184">(ArticleId, Token)</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3622.6978" x="0" y="283.2188"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3622.6978" y1="283.2188" y2="283.2188"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3622.6978" y1="286.2188" y2="286.2188"/><rect fill="#EEEEEE" height="40.5938" style="stroke:#000000;stroke-width:2;" width="321.5762" x="1650.5608" y="263.9219"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="297.8281" x="1656.5608" y="293.9121">Validate Command</text><g class="message" data-participant-1="Handler" data-participant-2="Validator"><polygon fill="#181818" points="1002.8896,349.1094,1012.8896,353.1094,1002.8896,357.1094,1006.8896,353.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="594.3369" x2="1008.8896" y1="353.1094" y2="353.1094"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="396.5527" x="601.3369" y="344.5059">ValidateOrThrow(command)</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3622.6978" x="0" y="390.4063"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3622.6978" y1="390.4063" y2="390.4063"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3622.6978" y1="393.4063" y2="393.4063"/><rect fill="#EEEEEE" height="40.5938" style="stroke:#000000;stroke-width:2;" width="409.7051" x="1606.4963" y="371.1094"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="385.957" x="1612.4963" y="401.0996">Load Article &amp; Invitation</text><g class="message" data-participant-1="Handler" data-participant-2="Persistence"><polygon fill="#181818" points="2921.2007,456.2969,2931.2007,460.2969,2921.2007,464.2969,2925.2007,460.2969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="594.3369" x2="2927.2007" y1="460.2969" y2="460.2969"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="595.1777" x="601.3369" y="451.6934">GetArticleByIdOrThrow(articleId)  &#8594; article</text></g><g class="message" data-participant-1="Handler" data-participant-2="Persistence"><polygon fill="#181818" points="2921.2007,527.8906,2931.2007,531.8906,2921.2007,535.8906,2925.2007,531.8906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="594.3369" x2="2927.2007" y1="531.8906" y2="531.8906"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="706.125" x="601.3369" y="523.2871">GetInvitationByTokenOrThrow(token)  &#8594; invitation</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3622.6978" x="0" y="569.1875"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3622.6978" y1="569.1875" y2="569.1875"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3622.6978" y1="572.1875" y2="572.1875"/><rect fill="#EEEEEE" height="40.5938" style="stroke:#000000;stroke-width:2;" width="441.0273" x="1590.8352" y="549.8906"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="417.2793" x="1596.8352" y="579.8809">Resolve / Ensure Reviewer</text><path d="M386.1064,607.4844 L472.9834,607.4844 L472.9834,632.0781 L462.9834,642.0781 L386.1064,642.0781 L386.1064,607.4844" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="276.5625" style="stroke:#000000;stroke-width:1.5;" width="3008.4849" x="386.1064" y="607.4844"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="41.877" x="401.1064" y="634.4746">alt</text><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="355.8789" x="487.9834" y="635.4746">[Invitation has UserId]</text><g class="message" data-participant-1="Handler" data-participant-2="Persistence"><polygon fill="#181818" points="2921.2007,694.2656,2931.2007,698.2656,2921.2007,702.2656,2925.2007,698.2656" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="594.3369" x2="2927.2007" y1="698.2656" y2="698.2656"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="737.666" x="601.3369" y="689.6621">(1A) GetReviewerByUserIdAsync(userId)  &#8594; reviewer</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="386.1064" x2="3394.5913" y1="732.2656" y2="732.2656"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="416.377" x="391.1064" y="758.2559">[Invitation has Email only]</text><g class="message" data-participant-1="Handler" data-participant-2="PersonSvc"><polygon fill="#181818" points="3254.2144,800.4531,3264.2144,804.4531,3254.2144,808.4531,3258.2144,804.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="594.3369" x2="3260.2144" y1="804.4531" y2="804.4531"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="851.6211" x="601.3369" y="795.8496">(1B) CreatePersonAsync(createPersonRequest) &#8594; personInfo</text></g><g class="message" data-participant-1="Handler" data-participant-2="Reviewer"><polygon fill="#181818" points="2604.3369,872.0469,2614.3369,876.0469,2604.3369,880.0469,2608.3369,876.0469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="594.3369" x2="2610.3369" y1="876.0469" y2="876.0469"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="557.5801" x="601.3369" y="867.4434">CreateReviewer(personInfo) &#8594; reviewer</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3622.6978" x="0" y="920.3438"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3622.6978" y1="920.3438" y2="920.3438"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3622.6978" y1="923.3438" y2="923.3438"/><rect fill="#EEEEEE" height="40.5938" style="stroke:#000000;stroke-width:2;" width="279.5215" x="1671.5881" y="901.0469"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="255.7734" x="1677.5881" y="931.0371">Accept &amp; Assign</text><g class="message" data-participant-1="Handler" data-participant-2="Invitation"><polygon fill="#181818" points="2355.1367,986.2344,2365.1367,990.2344,2355.1367,994.2344,2359.1367,990.2344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="594.3369" x2="2361.1367" y1="990.2344" y2="990.2344"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="249.8945" x="601.3369" y="981.6309">AcceptInvitation()</text></g><g class="message" data-participant-1="Handler" data-participant-2="Article"><polygon fill="#181818" points="2062.7637,1057.8281,2072.7637,1061.8281,2062.7637,1065.8281,2066.7637,1061.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="594.3369" x2="2068.7637" y1="1061.8281" y2="1061.8281"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="365.3262" x="601.3369" y="1053.2246">AssignReviewer(reviewer)</text></g><g class="message" data-participant-1="Article" data-participant-2="Article"><line style="stroke:#181818;stroke-width:1;" x1="2074.7637" x2="2116.7637" y1="1141.0156" y2="1141.0156"/><line style="stroke:#181818;stroke-width:1;" x1="2116.7637" x2="2116.7637" y1="1141.0156" y2="1154.0156"/><line style="stroke:#181818;stroke-width:1;" x1="2075.7637" x2="2116.7637" y1="1154.0156" y2="1154.0156"/><polygon fill="#181818" points="2085.7637,1150.0156,2075.7637,1154.0156,2085.7637,1158.0156,2081.7637,1154.0156" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="243.5645" x="2081.7637" y="1099.8184">AddDomainEvent</text><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="278.373" x="2081.7637" y="1132.4121">(ReviewerAssigned)</text></g><path d="M2079,1167.0156 L2079,1209.0156 L2947,1209.0156 L2947,1177.0156 L2937,1167.0156 L2079,1167.0156" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2937,1167.0156 L2937,1177.0156 L2947,1177.0156 L2937,1167.0156" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="847.1367" x="2085" y="1198.0059">Domain event is added to the\naggregate&#8217;s pending events.</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3622.6978" x="0" y="1243.9063"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3622.6978" y1="1243.9063" y2="1243.9063"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3622.6978" y1="1246.9063" y2="1246.9063"/><rect fill="#EEEEEE" height="40.5938" style="stroke:#000000;stroke-width:2;" width="409.6914" x="1606.5032" y="1224.6094"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="385.9434" x="1612.5032" y="1254.5996">Persist &amp; Publish Events</text><g class="message" data-participant-1="Handler" data-participant-2="Persistence"><polygon fill="#181818" points="2921.2007,1309.7969,2931.2007,1313.7969,2921.2007,1317.7969,2925.2007,1313.7969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="594.3369" x2="2927.2007" y1="1313.7969" y2="1313.7969"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="295.8184" x="601.3369" y="1305.1934">SaveChangesAsync()</text></g><g class="message" data-participant-1="Persistence" data-participant-2="EventPub"><polygon fill="#181818" points="1361.8818,1388.9844,1351.8818,1392.9844,1361.8818,1396.9844,1357.8818,1392.9844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1355.8818" x2="2932.2007" y1="1392.9844" y2="1392.9844"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="325.5957" x="1367.8818" y="1351.7871">PublishDomainEvents()</text><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="403.3066" x="1367.8818" y="1384.3809">[includes ReviewerAssigned]</text></g><g class="message" data-participant-1="EventPub" data-participant-2="RAssignedH"><polygon fill="#181818" points="1732.0498,1460.5781,1742.0498,1464.5781,1732.0498,1468.5781,1736.0498,1464.5781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1350.8818" x2="1738.0498" y1="1464.5781" y2="1464.5781"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="369.168" x="1357.8818" y="1455.9746">Handle(reviewerAssigned)</text></g><g class="message" data-participant-1="RAssignedH" data-participant-2="EmailSvc"><polygon fill="#181818" points="3491.6445,1507.1719,3501.6445,1511.1719,3491.6445,1515.1719,3495.6445,1511.1719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1744.0498" x2="3497.6445" y1="1511.1719" y2="1511.1719"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="335.9043" x="1751.0498" y="1502.5684">SendEmailAsync(editor)</text></g><path d="M1749,1524.1719 L1749,1566.1719 L2590,1566.1719 L2590,1534.1719 L2580,1524.1719 L1749,1524.1719" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2580,1524.1719 L2580,1534.1719 L2590,1534.1719 L2580,1524.1719" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="820.5996" x="1755" y="1555.1621">Notify editor that the reviewer was assigned to the article.</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3622.6978" x="0" y="1601.0625"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3622.6978" y1="1601.0625" y2="1601.0625"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3622.6978" y1="1604.0625" y2="1604.0625"/><rect fill="#EEEEEE" height="40.5938" style="stroke:#000000;stroke-width:2;" width="175.834" x="1723.4319" y="1581.7656"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="152.0859" x="1729.4319" y="1611.7559">Response</text><g class="message" data-participant-1="Handler" data-participant-2="Client"><polygon fill="#181818" points="83.9482,1699.5469,73.9482,1703.5469,83.9482,1707.5469,79.9482,1703.5469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="77.9482" x2="588.3369" y1="1703.5469" y2="1703.5469"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="363.7813" x="89.9482" y="1662.3496">AcceptInvitationResponse</text><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="487.3887" x="89.9482" y="1694.9434">(ArticleId, InvitationId, ReviewerId)</text></g><!--SRC=[XLRRRjj647tVhnZ8G2gYTkB4gLi8iG7Ts0XmKa5AsuUw3ojo9IrCxxBB9Msr3j2dVa3V-dlvaixUI8foLHYGnUNCcPcpPsPKt76HKqNlOSBMjCnqB8LUyjyPlFcE5FLB_DGyuJaL6luW0BNLnJa-ZMXojr6o5EbOPbB1prkkcJcNAcNAdOqoD2AVMvZp1dDEqvIB3NpJUZsIZyyTjxmwOT-zMp9LyOHTNyD9_CRy4V9LuxbalvLC96p2AuvfjGlz7okzonYiP9OUCUnoS19Vn9TnVCoZnSx9-7Bo6gq9qLnZi66Ii5p3J5HSKysbWBFQ7IQSRWnUV_psxEOY8WdDhSbxAjAC5K05z0u0Ug2CVw5FeQ8PJwbcaCZxU_GvXKpI52on6Fi5y2RiQWTQtZ5nYkw5p2hsAb7C-2fMSVR055ISmh3KMzWivcFWQn2CfGn1gKkX0SEZek0RKVkUGivKmKrEc0RavIhZnHPIUK-v05OnL9kM8AJcQynZou2bN4lraX2Qu7yOPzpOq09w2u_P8sGb7w47mppFUEAgkA4xpBG79zFB-1nfXZr1EzwKXN6yDRJvTxUY_m5ZKxs8UXtldnoRydd_-YqYn1dUd_Od-Eu0QcegdfShYnGU32L74rWCBQiiVRz7H7tQhG0-6ZuzDOZ6a7gaBF0sSUpNbCLnV3uzxyGSUgtOajrt333SR1JRe3eEScm9kScnEJpg6mhQgwxZqQbXxcHbkyMMC3qieMtZa7DP67Nju6kOhCRO-EnHOvnf36EfdeaoVTHC2PfXnyp4Mb4hiFFusmE1cL1IBAl41l9FRbOXlkcRGodW9MJ1mptK3XzaMcPx-VW-EBkkjJo0hXB7hjaDSUx2PjYZdqnlHwQRU6MwshiJSdKLXCt0UyBL5Gdm6AdH_Q0s_K5zsYhvqFU39R8uDsQu3ElXqfB2Fc3xGWRmFTFUPxIRfG6OXjGZW2z__Hrc5dbwUZeArGGTxMpD0T0EDm_MJ2fY4r-uYGUlO2gAKh56YPWupVPKlSLx-h5WQfRYHVvd9ltNmyYa4u16E-SpB7OYwPVskqycp4Y4CyMnh63TU5OM84MsEupfv6OYZY8Osv7jZbsef7MoS7iXic5pUuHobZxm7d9DmC1ZXeD-unVjfuyQjMJwXVG2t5pgt7shiaFbzgFk_GOr3JnQdKO86v5Wic-TfcwysU6AhT0TbX71POFBZM-s6kGwk28Ba_PIuhXaKrnoPZlXMheLDCoYBt_-Ko29mlvkiSR5Izkd1jSIuHM1JFZXxiP-SRGRbhHYuoqL6rQu2un8sm3jwzqn2BYjIej-T2j-uIB9oXH_87Ih_jNoMoEOYsvsoi0BeEQsuQfbPJ888mlJnOhjeqlMRUqkjuqtqllHxNXdYPnIRVTz_IlZ0VLElRrdFJH_Xr_isbmAx9OsdvYUdv67yWeE-vEnUM-U0cFOdYHbtN7vBm00]--></g></svg>