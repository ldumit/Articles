<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1683px" preserveAspectRatio="none" style="width:3090px;height:1683px;background:#FFFFFF;" version="1.1" viewBox="0 0 3090 1683" width="3090px" zoomAndPan="magnify"><title>Accept Invitation - Sequence Diagram (C4-L4)</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="361.0742" x="1360.5278" y="27.9951">Accept Invitation - Sequence Diagram (C4-L4)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="1335.7354" x="873.1973" y="1671.5732">Handles an "Accept Invitation" request, validate command, load article &amp; invitation by token, resolve/create reviewer via Auth gRPC if needed, accept invitation, assign reviewer, and persist.</text><rect fill="#E6F0FF" height="1613.2813" style="stroke:#181818;stroke-width:0.5;" width="809.2842" x="291.4355" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="236.6836" x="577.7358" y="65.5742">Application Layer</text><rect fill="#FFF0E0" height="1613.2813" style="stroke:#181818;stroke-width:0.5;" width="779.4072" x="1122.7197" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="186.5273" x="1419.1597" y="65.5742">Domain Layer</text><rect fill="#FFE0E0" height="1613.2813" style="stroke:#181818;stroke-width:0.5;" width="538.1885" x="1924.127" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="241.4414" x="2072.5005" y="65.5742">Persistence Layer</text><rect fill="#E0F7FF" height="1613.2813" style="stroke:#181818;stroke-width:0.5;" width="587.8145" x="2484.3154" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="215.0977" x="2670.6738" y="65.5742">External &amp; Infra</text><g><title>AcceptInvitationHandler</title><rect fill="#FFFFFF" height="1325" style="stroke:#181818;stroke-width:1;" width="10" x="484.502" y="222.6406"/></g><rect fill="none" height="564" style="stroke:#000000;stroke-width:1.5;" width="2560.4688" x="275.4355" y="531.2656"/><rect fill="none" height="168.6875" style="stroke:#000000;stroke-width:1.5;" width="2540.4688" x="285.4355" y="623.0781"/><rect fill="none" height="210.625" style="stroke:#000000;stroke-width:1.5;" width="2540.4688" x="285.4355" y="877.6406"/><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="1414.875" width="8" x="38.7402" y="150.7656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="42" x2="42" y1="150.7656" y2="1565.6406"/></g><g><title>AcceptInvitationHandler</title><rect fill="#000000" fill-opacity="0.00000" height="1414.875" width="8" x="485.502" y="150.7656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="489.4355" x2="489.4355" y1="150.7656" y2="1565.6406"/></g><g><title>AcceptInvitationValidator</title><rect fill="#000000" fill-opacity="0.00000" height="1414.875" width="8" x="891.144" y="150.7656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="894.5684" x2="894.5684" y1="150.7656" y2="1565.6406"/></g><g><title>Article</title><rect fill="#000000" fill-opacity="0.00000" height="1414.875" width="8" x="1237.9165" y="150.7656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1241.7197" x2="1241.7197" y1="150.7656" y2="1565.6406"/></g><g><title>ReviewInvitation</title><rect fill="#000000" fill-opacity="0.00000" height="1414.875" width="8" x="1508.4233" y="150.7656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1512.1133" x2="1512.1133" y1="150.7656" y2="1565.6406"/></g><g><title>Reviewer</title><rect fill="#000000" fill-opacity="0.00000" height="1414.875" width="8" x="1778.9302" y="150.7656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1782.7334" x2="1782.7334" y1="150.7656" y2="1565.6406"/></g><g><title>Repository</title><rect fill="#000000" fill-opacity="0.00000" height="1414.875" width="8" x="2030.8369" y="150.7656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2034.127" x2="2034.127" y1="150.7656" y2="1565.6406"/></g><g><title>ReviewDbContext</title><rect fill="#000000" fill-opacity="0.00000" height="1414.875" width="8" x="2300.9312" y="150.7656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2304.5469" x2="2304.5469" y1="150.7656" y2="1565.6406"/></g><g><title>Auth.PersonService</title><rect fill="#000000" fill-opacity="0.00000" height="1414.875" width="8" x="2648.1099" y="150.7656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2651.3154" x2="2651.3154" y1="150.7656" y2="1565.6406"/></g><g><title>EmailService</title><rect fill="#000000" fill-opacity="0.00000" height="1414.875" width="8" x="2943.0171" y="150.7656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2946.9043" x2="2946.9043" y1="150.7656" y2="1565.6406"/></g><g class="participant participant-head" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="69.4805" x="5" y="145.1055">Client</text><ellipse cx="42.7402" cy="71.3281" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M42.7402,79.3281 L42.7402,106.3281 M29.7402,87.3281 L55.7402,87.3281 M42.7402,106.3281 L29.7402,121.3281 M42.7402,106.3281 L55.7402,121.3281" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="69.4805" x="5" y="1586.918">Client</text><ellipse cx="42.7402" cy="1601.0781" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M42.7402,1609.0781 L42.7402,1636.0781 M29.7402,1617.0781 L55.7402,1617.0781 M42.7402,1636.0781 L29.7402,1651.0781 M42.7402,1636.0781 L55.7402,1651.0781" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Handler"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="328.1328" x="325.4355" y="75.2344"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="314.1328" x="332.4355" y="106.3682">AcceptInvitationHandler</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="126.6357" x="426.1841" y="136.6338">(MediatR)</text></g><g class="participant participant-tail" data-participant="Handler"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="328.1328" x="325.4355" y="1564.6406"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="314.1328" x="332.4355" y="1595.7744">AcceptInvitationHandler</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="126.6357" x="426.1841" y="1626.04">(MediatR)</text></g><g class="participant participant-head" data-participant="Validator"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="343.1514" x="723.5684" y="75.2344"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="329.1514" x="730.5684" y="106.3682">AcceptInvitationValidator</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="232.0195" x="779.1343" y="136.6338">(FluentValidation)</text></g><g class="participant participant-tail" data-participant="Validator"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="343.1514" x="723.5684" y="1564.6406"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="329.1514" x="730.5684" y="1595.7744">AcceptInvitationValidator</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="232.0195" x="779.1343" y="1626.04">(FluentValidation)</text></g><g class="participant participant-head" data-participant="Article"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="170.3936" x="1156.7197" y="75.2344"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="83.4082" x="1200.2124" y="106.3682">Article</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="156.3936" x="1163.7197" y="136.6338">(Aggregate)</text></g><g class="participant participant-tail" data-participant="Article"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="170.3936" x="1156.7197" y="1564.6406"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="83.4082" x="1200.2124" y="1595.7744">Article</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="156.3936" x="1163.7197" y="1626.04">(Aggregate)</text></g><g class="participant participant-head" data-participant="Invitation"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="230.6201" x="1397.1133" y="75.2344"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="216.6201" x="1404.1133" y="106.3682">ReviewInvitation</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="156.3936" x="1434.2266" y="136.6338">(Aggregate)</text></g><g class="participant participant-tail" data-participant="Invitation"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="230.6201" x="1397.1133" y="1564.6406"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="216.6201" x="1404.1133" y="1595.7744">ReviewInvitation</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="156.3936" x="1434.2266" y="1626.04">(Aggregate)</text></g><g class="participant participant-head" data-participant="Reviewer"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="170.3936" x="1697.7334" y="75.2344"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="120.6182" x="1722.6211" y="106.3682">Reviewer</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="156.3936" x="1704.7334" y="136.6338">(Aggregate)</text></g><g class="participant participant-tail" data-participant="Reviewer"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="170.3936" x="1697.7334" y="1564.6406"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="120.6182" x="1722.6211" y="1595.7744">Reviewer</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="156.3936" x="1704.7334" y="1626.04">(Aggregate)</text></g><g class="participant participant-head" data-participant="Repository"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="153.4199" x="1958.127" y="75.2344"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="139.4199" x="1965.127" y="106.3682">Repository</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="120.6816" x="1974.4961" y="136.6338">(EF Core)</text></g><g class="participant participant-tail" data-participant="Repository"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="153.4199" x="1958.127" y="1564.6406"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="139.4199" x="1965.127" y="1595.7744">Repository</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="120.6816" x="1974.4961" y="1626.04">(EF Core)</text></g><g class="participant participant-head" data-participant="DbContext"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="246.7686" x="2181.5469" y="75.2344"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="232.7686" x="2188.5469" y="106.3682">ReviewDbContext</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="120.6816" x="2244.5903" y="136.6338">(EF Core)</text></g><g class="participant participant-tail" data-participant="DbContext"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="246.7686" x="2181.5469" y="1564.6406"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="232.7686" x="2188.5469" y="1595.7744">ReviewDbContext</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="120.6816" x="2244.5903" y="1626.04">(EF Core)</text></g><g class="participant participant-head" data-participant="PersonSvc"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="267.5889" x="2518.3154" y="75.2344"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="253.5889" x="2525.3154" y="106.3682">Auth.PersonService</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="88.6895" x="2607.7651" y="136.6338">(gRPC)</text></g><g class="participant participant-tail" data-participant="PersonSvc"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="267.5889" x="2518.3154" y="1564.6406"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="253.5889" x="2525.3154" y="1595.7744">Auth.PersonService</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="88.6895" x="2607.7651" y="1626.04">(gRPC)</text></g><g class="participant participant-head" data-participant="EmailSvc"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="182.2256" x="2855.9043" y="75.2344"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="168.2256" x="2862.9043" y="106.3682">EmailService</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="114.8291" x="2889.6025" y="136.6338">(Module)</text></g><g class="participant participant-tail" data-participant="EmailSvc"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="182.2256" x="2855.9043" y="1564.6406"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="168.2256" x="2862.9043" y="1595.7744">EmailService</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="114.8291" x="2889.6025" y="1626.04">(Module)</text></g><g><title>AcceptInvitationHandler</title><rect fill="#FFFFFF" height="1325" style="stroke:#181818;stroke-width:1;" width="10" x="484.502" y="222.6406"/></g><g class="message" data-participant-1="Client" data-participant-2="Handler"><polygon fill="#181818" points="472.502,218.6406,482.502,222.6406,472.502,226.6406,476.502,222.6406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="42.7402" x2="478.502" y1="222.6406" y2="222.6406"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="318.8203" x="49.7402" y="187.043">AcceptInvitationCommand</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="206.5078" x="49.7402" y="214.9805">(ArticleId, Token)</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3083.1299" x="0" y="257.6094"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3083.1299" y1="257.6094" y2="257.6094"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3083.1299" y1="260.6094" y2="260.6094"/><rect fill="#EEEEEE" height="35.9375" style="stroke:#000000;stroke-width:2;" width="277.6367" x="1402.7466" y="240.6406"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="255.2813" x="1408.7466" y="266.918">Validate Command</text><g class="message" data-participant-1="Handler" data-participant-2="Validator"><polygon fill="#181818" points="883.144,316.5156,893.144,320.5156,883.144,324.5156,887.144,320.5156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="494.502" x2="889.144" y1="320.5156" y2="320.5156"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="339.9023" x="501.502" y="312.8555">ValidateOrThrow(command)</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3083.1299" x="0" y="355.4844"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3083.1299" y1="355.4844" y2="355.4844"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3083.1299" y1="358.4844" y2="358.4844"/><rect fill="#EEEEEE" height="35.9375" style="stroke:#000000;stroke-width:2;" width="353.1758" x="1364.9771" y="338.5156"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="330.8203" x="1370.9771" y="364.793">Load Article &amp; Invitation</text><g class="message" data-participant-1="Handler" data-participant-2="Repository"><polygon fill="#181818" points="2022.8369,414.3906,2032.8369,418.3906,2022.8369,422.3906,2026.8369,418.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="494.502" x2="2028.8369" y1="418.3906" y2="418.3906"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="391.875" x="501.502" y="410.7305">GetArticleByIdOrThrow(articleId)</text></g><g class="message" data-participant-1="Handler" data-participant-2="Repository"><polygon fill="#181818" points="2022.8369,456.3281,2032.8369,460.3281,2022.8369,464.3281,2026.8369,460.3281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="494.502" x2="2028.8369" y1="460.3281" y2="460.3281"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="449.4141" x="501.502" y="452.668">GetInvitationByTokenOrThrow(token)</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3083.1299" x="0" y="495.2969"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3083.1299" y1="495.2969" y2="495.2969"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3083.1299" y1="498.2969" y2="498.2969"/><rect fill="#EEEEEE" height="35.9375" style="stroke:#000000;stroke-width:2;" width="380.0234" x="1351.5532" y="478.3281"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="357.668" x="1357.5532" y="504.6055">Resolve / Ensure Reviewer</text><path d="M275.4355,531.2656 L365.5762,531.2656 L365.5762,551.2031 L355.5762,561.2031 L275.4355,561.2031 L275.4355,531.2656" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="564" style="stroke:#000000;stroke-width:1.5;" width="2560.4688" x="275.4355" y="531.2656"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="45.1406" x="290.4355" y="554.543">opt</text><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="305.0391" x="380.5762" y="555.543">[Invitation has UserId]</text><g class="message" data-participant-1="Handler" data-participant-2="Repository"><polygon fill="#181818" points="2022.8369,604.0781,2032.8369,608.0781,2022.8369,612.0781,2026.8369,608.0781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="494.502" x2="2028.8369" y1="608.0781" y2="608.0781"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="549.9492" x="501.502" y="600.418">GetReviewerByUserIdAsync(Invitation.UserId)</text></g><path d="M285.4355,623.0781 L375.5762,623.0781 L375.5762,643.0156 L365.5762,653.0156 L285.4355,653.0156 L285.4355,623.0781" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="168.6875" style="stroke:#000000;stroke-width:1.5;" width="2540.4688" x="285.4355" y="623.0781"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="45.1406" x="300.4355" y="646.3555">opt</text><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="287.168" x="390.5762" y="647.3555">[Reviewer not found]</text><g class="message" data-participant-1="Handler" data-participant-2="PersonSvc"><polygon fill="#181818" points="2640.1099,695.8906,2650.1099,699.8906,2640.1099,703.8906,2644.1099,699.8906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="494.502" x2="2646.1099" y1="699.8906" y2="699.8906"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="683.168" x="501.502" y="692.2305">GetPersonByUserIdAsync(Invitation.UserId) &#8594; personInfo</text></g><g class="message" data-participant-1="Handler" data-participant-2="Reviewer"><polygon fill="#181818" points="1770.9302,737.8281,1780.9302,741.8281,1770.9302,745.8281,1774.9302,741.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="494.502" x2="1776.9302" y1="741.8281" y2="741.8281"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="366.5859" x="501.502" y="734.168">Create(personInfo) &#8594; reviewer</text></g><g class="message" data-participant-1="Handler" data-participant-2="Repository"><polygon fill="#181818" points="2022.8369,779.7656,2032.8369,783.7656,2022.8369,787.7656,2026.8369,783.7656" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="494.502" x2="2028.8369" y1="783.7656" y2="783.7656"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="353.0156" x="501.502" y="776.1055">AddReviewerAsync(reviewer)</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="275.4355" x2="2835.9043" y1="799.7656" y2="799.7656"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="356.8945" x="280.4355" y="822.043">[Invitation has Email only]</text><g class="message" data-participant-1="Handler" data-participant-2="Repository"><polygon fill="#181818" points="2022.8369,858.6406,2032.8369,862.6406,2022.8369,866.6406,2026.8369,862.6406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="494.502" x2="2028.8369" y1="862.6406" y2="862.6406"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="529.0898" x="501.502" y="854.9805">GetReviewerByEmailAsync(Invitation.Email)</text></g><path d="M285.4355,877.6406 L375.5762,877.6406 L375.5762,897.5781 L365.5762,907.5781 L285.4355,907.5781 L285.4355,877.6406" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="210.625" style="stroke:#000000;stroke-width:1.5;" width="2540.4688" x="285.4355" y="877.6406"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="45.1406" x="300.4355" y="900.918">opt</text><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="287.168" x="390.5762" y="901.918">[Reviewer not found]</text><g class="message" data-participant-1="Handler" data-participant-2="Invitation"><polygon fill="#181818" points="1500.4233,950.4531,1510.4233,954.4531,1500.4233,958.4531,1504.4233,954.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="494.502" x2="1506.4233" y1="954.4531" y2="954.4531"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="390.293" x="501.502" y="946.793">Adapt&lt;CreatePersonRequest&gt;()</text></g><g class="message" data-participant-1="Handler" data-participant-2="PersonSvc"><polygon fill="#181818" points="2640.1099,992.3906,2650.1099,996.3906,2640.1099,1000.3906,2644.1099,996.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="494.502" x2="2646.1099" y1="996.3906" y2="996.3906"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="671.8711" x="501.502" y="988.7305">CreatePersonAsync(createPersonRequest) &#8594; personInfo</text></g><g class="message" data-participant-1="Handler" data-participant-2="Reviewer"><polygon fill="#181818" points="1770.9302,1034.3281,1780.9302,1038.3281,1770.9302,1042.3281,1774.9302,1038.3281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="494.502" x2="1776.9302" y1="1038.3281" y2="1038.3281"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="366.5859" x="501.502" y="1030.668">Create(personInfo) &#8594; reviewer</text></g><g class="message" data-participant-1="Handler" data-participant-2="Repository"><polygon fill="#181818" points="2022.8369,1076.2656,2032.8369,1080.2656,2022.8369,1084.2656,2026.8369,1080.2656" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="494.502" x2="2028.8369" y1="1080.2656" y2="1080.2656"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="353.0156" x="501.502" y="1072.6055">AddReviewerAsync(reviewer)</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3083.1299" x="0" y="1129.2344"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3083.1299" y1="1129.2344" y2="1129.2344"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3083.1299" y1="1132.2344" y2="1132.2344"/><rect fill="#EEEEEE" height="35.9375" style="stroke:#000000;stroke-width:2;" width="241.5898" x="1420.77" y="1112.2656"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="219.2344" x="1426.77" y="1138.543">Accept &amp; Assign</text><g class="message" data-participant-1="Handler" data-participant-2="Invitation"><polygon fill="#181818" points="1500.4233,1188.1406,1510.4233,1192.1406,1500.4233,1196.1406,1504.4233,1192.1406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="494.502" x2="1506.4233" y1="1192.1406" y2="1192.1406"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="100.9453" x="501.502" y="1184.4805">Accept()</text></g><g class="message" data-participant-1="Handler" data-participant-2="Article"><polygon fill="#181818" points="1229.9165,1230.0781,1239.9165,1234.0781,1229.9165,1238.0781,1233.9165,1234.0781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="494.502" x2="1235.9165" y1="1234.0781" y2="1234.0781"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="313.1367" x="501.502" y="1226.418">AssignReviewer(reviewer)</text></g><g class="message" data-participant-1="Handler" data-participant-2="EmailSvc"><polygon fill="#181818" points="2935.0171,1272.0156,2945.0171,1276.0156,2935.0171,1280.0156,2939.0171,1276.0156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="494.502" x2="2941.0171" y1="1276.0156" y2="1276.0156"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="287.918" x="501.502" y="1268.3555">SendEmailAsync(editor)</text></g><path d="M499,1289.0156 L499,1326.0156 L1076,1326.0156 L1076,1299.0156 L1066,1289.0156 L499,1289.0156" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1066,1289.0156 L1066,1299.0156 L1076,1299.0156 L1066,1289.0156" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="556.7578" x="505" y="1316.293">Notify editor that reviewer accepted invitation</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3083.1299" x="0" y="1358.9219"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3083.1299" y1="1358.9219" y2="1358.9219"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3083.1299" y1="1361.9219" y2="1361.9219"/><rect fill="#EEEEEE" height="35.9375" style="stroke:#000000;stroke-width:2;" width="116.3281" x="1483.4009" y="1341.9531"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="93.9727" x="1489.4009" y="1368.2305">Persist</text><g class="message" data-participant-1="Handler" data-participant-2="DbContext"><polygon fill="#181818" points="2292.9312,1417.8281,2302.9312,1421.8281,2292.9312,1425.8281,2296.9312,1421.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="494.502" x2="2298.9312" y1="1421.8281" y2="1421.8281"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="253.5586" x="501.502" y="1414.168">SaveChangesAsync()</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3083.1299" x="0" y="1456.7969"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3083.1299" y1="1456.7969" y2="1456.7969"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3083.1299" y1="1459.7969" y2="1459.7969"/><rect fill="#EEEEEE" height="35.9375" style="stroke:#000000;stroke-width:2;" width="152.7148" x="1465.2075" y="1439.8281"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="130.3594" x="1471.2075" y="1466.1055">Response</text><g class="message" data-participant-1="Handler" data-participant-2="Client"><polygon fill="#181818" points="53.7402,1543.6406,43.7402,1547.6406,53.7402,1551.6406,49.7402,1547.6406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="47.7402" x2="488.502" y1="1547.6406" y2="1547.6406"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="311.8125" x="59.7402" y="1512.043">AcceptInvitationResponse</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="417.7617" x="59.7402" y="1539.9805">(ArticleId, InvitationId, ReviewerId)</text></g><!--SRC=[pLRTRjis5BxNKnouG643IUfsGGSOIG1PiJe3wHOutNQp6qOybeaef4hHQhHXjtk0FcAVP8UYgDyYxMKHD8WE-NtdExziyI1apZHxX6lSisDcOYNDdVWRuSrvKBI7zDk8HEHC6lWd0EXklQMlDKiUKgsEaaSgKnh-F0Y3rguqH-riwumk1V_sE6yxpbl6kP0f_BJidQ_LaxU_7jZlrPDZ_d0GoOF4ee3NN-ST2Rkuk4DTYWIlhk15_CR-184H9aC8amHp0rjP2iECK19EuGu_7b4c2DU2fPPv7fsVtfmlWeJbzPLVcEGP5i0ap2O4Cz0MNvWJA5acE3C8YNfy9Cm9P8fng7MIxvSWEhVt5HZrWFA4u8NAIdoLQBHOZQN0JwYX50p2epb0khkDGEn18d8aKkOaT6HaAWgHoXPB1iaXHrs8mfm50KiCbIRA14eJ19HNc46Ovvb8d9WRLf736RpOl8sNSKmbxJU22r-J4nz-5trpzfUSlqSkcDajPYFq7oufwkluzfGOuepAO1eBdH4LKXWarsk-LezCzEJ6SRpSB4SEmoRTjJltDv67QQenfGHF1FPwmK9sTGuxuxFOdIzMXwoJqKUCOhXrLQaRhXV8PXh83dDL2CfDrT3xJtAmYI5IUYhe-ZwYaSKdqrFKsWQuaQpDaq4jMKPTkfLxpUfkMCO_Jxh1wbVohanSWgb1pngJcpboOXjsecn3fSiyp7sqWFUA7xE1ADUhS7hLTjyAnhqJkIcpwNPbtj9mVB13jR0TBqexJWqy22ulVIiYD4Yul0myFNdgEdNLNlsDbezMd-RDH2zgdXixrM4xrRq66XBs2hY2TsWQoBhQSi_BlFB5Sy3Emxgg0_HmuwAredPkZS0hsCZYgB7hJHAbXZllG3NulK2zvLIaP_nwYdNbReT59PDvHtJcp0jYiHvQZr8PsDjrJ0S31rtprFpkyrliyEM_p_KoKv9QKuqvMwyhYEeLEk_kEgnVYrDaBzoGSy_aX7YKZOxwCi2im74Iwpu69RFgUnDP8oQHrjRlJsDFXHLEpzI52zqbTESUfAlvuhdyzn5EK3Bb-66IJ_zibpVFxqi8tOit7BXXNkghyy5W-Q5TDNZljEUlTxjTMIlwFuBalTBHMqVA5m5LY5viaHuCg7sxQm1-LKRiAt3Nm1oOwTvrztmZxptWzTwpN7MCpGinYgtRxAI6bHWTc4onS7hQ5P0hILtQHnAqMQRJ3Ue1mnNQdTildo8xvXp7U_L_]--></g></svg>