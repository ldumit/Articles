<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1540px" preserveAspectRatio="none" style="width:3014px;height:1540px;background:#FFFFFF;" version="1.1" viewBox="0 0 3014 1540" width="3014px" zoomAndPan="magnify"><title>Invite Reviewer - Sequence Diagram (C4-L4)</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="349.4326" x="1328.5764" y="27.9951">Invite Reviewer - Sequence Diagram (C4-L4)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="1349.7285" x="828.4285" y="1527.7607">This diagram illustrates the flow for handling an "Invite Reviewer" request in the Review Service, covering entity loading, validation, reviewer resolution, persistence, and notification via email.</text><rect fill="#E6F0FF" height="1469.4688" style="stroke:#181818;stroke-width:0.5;" width="764.8994" x="321.7661" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="236.6836" x="585.874" y="65.5742">Application Layer</text><rect fill="#FFF0E0" height="1469.4688" style="stroke:#181818;stroke-width:0.5;" width="531.0137" x="1108.6655" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="186.5273" x="1280.9087" y="65.5742">Domain Layer</text><rect fill="#FFE0E0" height="1469.4688" style="stroke:#181818;stroke-width:0.5;" width="530.1885" x="1661.6792" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="241.4414" x="1806.0527" y="65.5742">Persistence Layer</text><rect fill="#E0F7FF" height="1469.4688" style="stroke:#181818;stroke-width:0.5;" width="782.7178" x="2213.8677" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="215.0977" x="2497.6777" y="65.5742">External &amp; Infra</text><g><title>InviteReviewerHandler</title><rect fill="#FFFFFF" height="1181.1875" style="stroke:#181818;stroke-width:1;" width="10" x="503.7363" y="222.6406"/></g><rect fill="none" height="84.8125" style="stroke:#000000;stroke-width:1.5;" width="692.3164" x="10" y="517.2656"/><rect fill="none" height="369.3125" style="stroke:#000000;stroke-width:1.5;" width="2255.6904" x="305.7661" y="672.0156"/><rect fill="none" height="198.625" style="stroke:#000000;stroke-width:1.5;" width="2235.6904" x="315.7661" y="763.8281"/><g><title>Editor</title><rect fill="#000000" fill-opacity="0.00000" height="1271.0625" width="8" x="54.5137" y="150.7656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="58" x2="58" y1="150.7656" y2="1421.8281"/></g><g><title>InviteReviewerHandler</title><rect fill="#000000" fill-opacity="0.00000" height="1271.0625" width="8" x="504.7363" y="150.7656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="507.7661" x2="507.7661" y1="150.7656" y2="1421.8281"/></g><g><title>InviteReviewerValidator</title><rect fill="#000000" fill-opacity="0.00000" height="1271.0625" width="8" x="888.186" y="150.7656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="891.7065" x2="891.7065" y1="150.7656" y2="1421.8281"/></g><g><title>Article</title><rect fill="#000000" fill-opacity="0.00000" height="1271.0625" width="8" x="1221.8623" y="150.7656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1225.6655" x2="1225.6655" y1="150.7656" y2="1421.8281"/></g><g><title>ReviewInvitation</title><rect fill="#000000" fill-opacity="0.00000" height="1271.0625" width="8" x="1488.3691" y="150.7656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1492.0591" x2="1492.0591" y1="150.7656" y2="1421.8281"/></g><g><title>Repository</title><rect fill="#000000" fill-opacity="0.00000" height="1271.0625" width="8" x="1766.3892" y="150.7656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1769.6792" x2="1769.6792" y1="150.7656" y2="1421.8281"/></g><g><title>ReviewDbContext</title><rect fill="#000000" fill-opacity="0.00000" height="1271.0625" width="8" x="2032.4834" y="150.7656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2036.0991" x2="2036.0991" y1="150.7656" y2="1421.8281"/></g><g><title>Auth.PersonService</title><rect fill="#000000" fill-opacity="0.00000" height="1271.0625" width="8" x="2375.6621" y="150.7656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2378.8677" x2="2378.8677" y1="150.7656" y2="1421.8281"/></g><g><title>EmailService</title><rect fill="#000000" fill-opacity="0.00000" height="1271.0625" width="8" x="2666.5693" y="150.7656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2670.4565" x2="2670.4565" y1="150.7656" y2="1421.8281"/></g><g><title>UrlHelper</title><rect fill="#000000" fill-opacity="0.00000" height="1271.0625" width="8" x="2892.1338" y="150.7656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2895.6821" x2="2895.6821" y1="150.7656" y2="1421.8281"/></g><g class="participant participant-head" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="71.0273" x="20" y="145.1055">Editor</text><ellipse cx="58.5137" cy="71.3281" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M58.5137,79.3281 L58.5137,106.3281 M45.5137,87.3281 L71.5137,87.3281 M58.5137,106.3281 L45.5137,121.3281 M58.5137,106.3281 L71.5137,121.3281" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="71.0273" x="20" y="1443.1055">Editor</text><ellipse cx="58.5137" cy="1457.2656" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M58.5137,1465.2656 L58.5137,1492.2656 M45.5137,1473.2656 L71.5137,1473.2656 M58.5137,1492.2656 L45.5137,1507.2656 M58.5137,1492.2656 L71.5137,1507.2656" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Handler"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="309.9404" x="353.7661" y="75.2344"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="295.9404" x="360.7661" y="106.3682">InviteReviewerHandler</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="126.6357" x="445.4185" y="136.6338">(MediatR)</text></g><g class="participant participant-tail" data-participant="Handler"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="309.9404" x="353.7661" y="1420.8281"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="295.9404" x="360.7661" y="1451.9619">InviteReviewerHandler</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="126.6357" x="445.4185" y="1482.2275">(MediatR)</text></g><g class="participant participant-head" data-participant="Validator"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="324.959" x="729.7065" y="75.2344"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="310.959" x="736.7065" y="106.3682">InviteReviewerValidator</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="232.0195" x="776.1763" y="136.6338">(FluentValidation)</text></g><g class="participant participant-tail" data-participant="Validator"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="324.959" x="729.7065" y="1420.8281"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="310.959" x="736.7065" y="1451.9619">InviteReviewerValidator</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="232.0195" x="776.1763" y="1482.2275">(FluentValidation)</text></g><g class="participant participant-head" data-participant="Article"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="170.3936" x="1140.6655" y="75.2344"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="83.4082" x="1184.1582" y="106.3682">Article</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="156.3936" x="1147.6655" y="136.6338">(Aggregate)</text></g><g class="participant participant-tail" data-participant="Article"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="170.3936" x="1140.6655" y="1420.8281"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="83.4082" x="1184.1582" y="1451.9619">Article</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="156.3936" x="1147.6655" y="1482.2275">(Aggregate)</text></g><g class="participant participant-head" data-participant="Invitation"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="230.6201" x="1377.0591" y="75.2344"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="216.6201" x="1384.0591" y="106.3682">ReviewInvitation</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="156.3936" x="1414.1724" y="136.6338">(Aggregate)</text></g><g class="participant participant-tail" data-participant="Invitation"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="230.6201" x="1377.0591" y="1420.8281"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="216.6201" x="1384.0591" y="1451.9619">ReviewInvitation</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="156.3936" x="1414.1724" y="1482.2275">(Aggregate)</text></g><g class="participant participant-head" data-participant="Repository"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="153.4199" x="1693.6792" y="75.2344"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="139.4199" x="1700.6792" y="106.3682">Repository</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="120.6816" x="1710.0483" y="136.6338">(EF Core)</text></g><g class="participant participant-tail" data-participant="Repository"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="153.4199" x="1693.6792" y="1420.8281"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="139.4199" x="1700.6792" y="1451.9619">Repository</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="120.6816" x="1710.0483" y="1482.2275">(EF Core)</text></g><g class="participant participant-head" data-participant="DbContext"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="246.7686" x="1913.0991" y="75.2344"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="232.7686" x="1920.0991" y="106.3682">ReviewDbContext</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="120.6816" x="1976.1426" y="136.6338">(EF Core)</text></g><g class="participant participant-tail" data-participant="DbContext"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="246.7686" x="1913.0991" y="1420.8281"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="232.7686" x="1920.0991" y="1451.9619">ReviewDbContext</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="120.6816" x="1976.1426" y="1482.2275">(EF Core)</text></g><g class="participant participant-head" data-participant="PersonSvc"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="267.5889" x="2245.8677" y="75.2344"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="253.5889" x="2252.8677" y="106.3682">Auth.PersonService</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="88.6895" x="2335.3174" y="136.6338">(gRPC)</text></g><g class="participant participant-tail" data-participant="PersonSvc"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="267.5889" x="2245.8677" y="1420.8281"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="253.5889" x="2252.8677" y="1451.9619">Auth.PersonService</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="88.6895" x="2335.3174" y="1482.2275">(gRPC)</text></g><g class="participant participant-head" data-participant="EmailSvc"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="182.2256" x="2579.4565" y="75.2344"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="168.2256" x="2586.4565" y="106.3682">EmailService</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="114.8291" x="2613.1548" y="136.6338">(Module)</text></g><g class="participant participant-tail" data-participant="EmailSvc"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="182.2256" x="2579.4565" y="1420.8281"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="168.2256" x="2586.4565" y="1451.9619">EmailService</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="114.8291" x="2613.1548" y="1482.2275">(Module)</text></g><g class="participant participant-head" data-participant="UrlHelper"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="136.9033" x="2827.6821" y="75.2344"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="122.9033" x="2834.6821" y="106.3682">UrlHelper</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="96.7637" x="2847.752" y="136.6338">(Utility)</text></g><g class="participant participant-tail" data-participant="UrlHelper"><rect fill="#FFFFFF" height="74.5313" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="136.9033" x="2827.6821" y="1420.8281"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="122.9033" x="2834.6821" y="1451.9619">UrlHelper</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacing" textLength="96.7637" x="2847.752" y="1482.2275">(Utility)</text></g><g><title>InviteReviewerHandler</title><rect fill="#FFFFFF" height="1181.1875" style="stroke:#181818;stroke-width:1;" width="10" x="503.7363" y="222.6406"/></g><g class="message" data-participant-1="Client" data-participant-2="Handler"><polygon fill="#181818" points="491.7363,218.6406,501.7363,222.6406,491.7363,226.6406,495.7363,222.6406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="58.5137" x2="497.7363" y1="222.6406" y2="222.6406"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="302.0273" x="65.5137" y="187.043">InviteReviewerCommand</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="426.2227" x="65.5137" y="214.9805">(ArticleId, UserId?, Email?, EditorId)</text></g><g class="message" data-participant-1="Handler" data-participant-2="Validator"><polygon fill="#181818" points="880.186,260.5781,890.186,264.5781,880.186,268.5781,884.186,264.5781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="513.7363" x2="886.186" y1="264.5781" y2="264.5781"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="339.9023" x="520.7363" y="256.918">ValidateOrThrow(command)</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3007.5854" x="0" y="299.5469"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3007.5854" y1="299.5469" y2="299.5469"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3007.5854" y1="302.5469" y2="302.5469"/><rect fill="#EEEEEE" height="35.9375" style="stroke:#000000;stroke-width:2;" width="303.9453" x="1351.8201" y="282.5781"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="281.5898" x="1357.8201" y="308.8555">Load Article &amp; Editor</text><g class="message" data-participant-1="Handler" data-participant-2="Repository"><polygon fill="#181818" points="1758.3892,358.4531,1768.3892,362.4531,1758.3892,366.4531,1762.3892,362.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="513.7363" x2="1764.3892" y1="362.4531" y2="362.4531"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="391.875" x="520.7363" y="354.793">GetArticleByIdOrThrow(articleId)</text></g><g class="message" data-participant-1="Handler" data-participant-2="Repository"><polygon fill="#181818" points="1758.3892,400.3906,1768.3892,404.3906,1758.3892,408.3906,1762.3892,404.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="513.7363" x2="1764.3892" y1="404.3906" y2="404.3906"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="435.9609" x="520.7363" y="396.7305">GetEditorByUserIdOrThrow(editorId)</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3007.5854" x="0" y="439.3594"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3007.5854" y1="439.3594" y2="439.3594"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3007.5854" y1="442.3594" y2="442.3594"/><rect fill="#EEEEEE" height="35.9375" style="stroke:#000000;stroke-width:2;" width="449.1406" x="1279.2224" y="422.3906"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="426.7852" x="1285.2224" y="448.668">Guard: Existing Open Invitation</text><g class="message" data-participant-1="Handler" data-participant-2="Repository"><polygon fill="#181818" points="1758.3892,498.2656,1768.3892,502.2656,1758.3892,506.2656,1762.3892,502.2656" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="513.7363" x2="1764.3892" y1="502.2656" y2="502.2656"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="319.3359" x="520.7363" y="494.6055">OpenInvitationExistsAsync</text></g><path d="M10,517.2656 L90.8945,517.2656 L90.8945,537.2031 L80.8945,547.2031 L10,547.2031 L10,517.2656" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="84.8125" style="stroke:#000000;stroke-width:1.5;" width="692.3164" x="10" y="517.2656"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="35.8945" x="25" y="540.543">alt</text><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="591.4219" x="105.8945" y="541.543">[Guard fails: open invitation already exists]</text><g class="message" data-participant-1="Handler" data-participant-2="Client"><polygon fill="#181818" points="69.5137,590.0781,59.5137,594.0781,69.5137,598.0781,65.5137,594.0781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="63.5137" x2="502.7363" y1="594.0781" y2="594.0781"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="333.2109" x="75.5137" y="586.418">Error: open invitation exists</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3007.5854" x="0" y="636.0469"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3007.5854" y1="636.0469" y2="636.0469"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3007.5854" y1="639.0469" y2="639.0469"/><rect fill="#EEEEEE" height="35.9375" style="stroke:#000000;stroke-width:2;" width="261.582" x="1373.0017" y="619.0781"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="239.2266" x="1379.0017" y="645.3555">Resolve Reviewer</text><path d="M305.7661,672.0156 L395.9067,672.0156 L395.9067,691.9531 L385.9067,701.9531 L305.7661,701.9531 L305.7661,672.0156" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="369.3125" style="stroke:#000000;stroke-width:1.5;" width="2255.6904" x="305.7661" y="672.0156"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="45.1406" x="320.7661" y="695.293">opt</text><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="454.9102" x="410.9067" y="696.293">[Reviewer is User (UserId exists)]</text><g class="message" data-participant-1="Handler" data-participant-2="Repository"><polygon fill="#181818" points="1758.3892,744.8281,1768.3892,748.8281,1758.3892,752.8281,1762.3892,748.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="513.7363" x2="1764.3892" y1="748.8281" y2="748.8281"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="426.7148" x="520.7363" y="741.168">GetReviewerByUserIdAsync(userId)</text></g><path d="M315.7661,763.8281 L396.6606,763.8281 L396.6606,783.7656 L386.6606,793.7656 L315.7661,793.7656 L315.7661,763.8281" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="198.625" style="stroke:#000000;stroke-width:1.5;" width="2235.6904" x="315.7661" y="763.8281"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="35.8945" x="330.7661" y="787.1055">alt</text><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="235.5117" x="411.6606" y="788.1055">[Reviewer exists]</text><g class="message" data-participant-1="Handler" data-participant-2="Article"><polygon fill="#181818" points="1213.8623,836.6406,1223.8623,840.6406,1213.8623,844.6406,1217.8623,840.6406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="513.7363" x2="1219.8623" y1="840.6406" y2="840.6406"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="301.9336" x="520.7363" y="832.9805">InviteReviewer(reviewer)</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="315.7661" x2="2551.4565" y1="849.6406" y2="849.6406"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="287.168" x="320.7661" y="871.918">[Reviewer not found]</text><g class="message" data-participant-1="Handler" data-participant-2="PersonSvc"><polygon fill="#181818" points="2367.6621,908.5156,2377.6621,912.5156,2367.6621,916.5156,2371.6621,912.5156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="513.7363" x2="2373.6621" y1="912.5156" y2="912.5156"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="559.9336" x="520.7363" y="904.8555">GetPersonByUserIdAsync(userId) &#8594; personInfo</text></g><g class="message" data-participant-1="Handler" data-participant-2="Article"><polygon fill="#181818" points="1213.8623,950.4531,1223.8623,954.4531,1213.8623,958.4531,1217.8623,954.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="513.7363" x2="1219.8623" y1="954.4531" y2="954.4531"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="325.0898" x="520.7363" y="946.793">InviteReviewer(personInfo)</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="305.7661" x2="2561.4565" y1="970.4531" y2="970.4531"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="301.6406" x="310.7661" y="992.7305">[Reviewer is not User]</text><g class="message" data-participant-1="Handler" data-participant-2="Article"><polygon fill="#181818" points="1213.8623,1029.3281,1223.8623,1033.3281,1213.8623,1037.3281,1217.8623,1033.3281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="513.7363" x2="1219.8623" y1="1033.3281" y2="1033.3281"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="263.5898" x="520.7363" y="1025.668">InviteReviewer(email)</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3007.5854" x="0" y="1075.2969"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3007.5854" y1="1075.2969" y2="1075.2969"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3007.5854" y1="1078.2969" y2="1078.2969"/><rect fill="#EEEEEE" height="35.9375" style="stroke:#000000;stroke-width:2;" width="238.2617" x="1384.6619" y="1058.3281"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="215.9063" x="1390.6619" y="1084.6055">Notify Reviewer</text><g class="message" data-participant-1="Handler" data-participant-2="UrlHelper"><polygon fill="#181818" points="2884.1338,1134.2031,2894.1338,1138.2031,2884.1338,1142.2031,2888.1338,1138.2031" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="513.7363" x2="2890.1338" y1="1138.2031" y2="1138.2031"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="684.0586" x="520.7363" y="1130.543">BuildConfirmationUrl(invitation.Token) &#8594; confirmationUrl</text></g><g class="message" data-participant-1="Handler" data-participant-2="EmailSvc"><polygon fill="#181818" points="2658.5693,1176.1406,2668.5693,1180.1406,2658.5693,1184.1406,2662.5693,1180.1406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="513.7363" x2="2664.5693" y1="1180.1406" y2="1180.1406"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="594.0234" x="520.7363" y="1172.4805">SendEmailAsync(EmailMessage(confirmationUrl))</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3007.5854" x="0" y="1215.1094"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3007.5854" y1="1215.1094" y2="1215.1094"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3007.5854" y1="1218.1094" y2="1218.1094"/><rect fill="#EEEEEE" height="35.9375" style="stroke:#000000;stroke-width:2;" width="116.3281" x="1445.6287" y="1198.1406"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="93.9727" x="1451.6287" y="1224.418">Persist</text><g class="message" data-participant-1="Handler" data-participant-2="DbContext"><polygon fill="#181818" points="2024.4834,1274.0156,2034.4834,1278.0156,2024.4834,1282.0156,2028.4834,1278.0156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="513.7363" x2="2030.4834" y1="1278.0156" y2="1278.0156"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="253.5586" x="520.7363" y="1270.3555">SaveChangesAsync()</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3007.5854" x="0" y="1312.9844"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3007.5854" y1="1312.9844" y2="1312.9844"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3007.5854" y1="1315.9844" y2="1315.9844"/><rect fill="#EEEEEE" height="35.9375" style="stroke:#000000;stroke-width:2;" width="152.7148" x="1427.4353" y="1296.0156"/><text fill="#000000" font-family="sans-serif" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="130.3594" x="1433.4353" y="1322.293">Response</text><g class="message" data-participant-1="Handler" data-participant-2="Client"><polygon fill="#181818" points="69.5137,1399.8281,59.5137,1403.8281,69.5137,1407.8281,65.5137,1403.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="63.5137" x2="507.7363" y1="1403.8281" y2="1403.8281"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="295.0195" x="75.5137" y="1368.2305">InviteReviewerResponse</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="357.3281" x="75.5137" y="1396.168">(ArticleId, InvitationId, Token)</text></g><!--SRC=[ZLRRRjiu47tNLmnSe9019t23eBimcYnYnseD96tWDErBNrXnB1EXIIr5AV4M-xeVi9-uNx93KHTQ3eh2WCtRENFcmg6BHw5oPjWEhd73IcaJhUoz-0lXx3mgkatwjY8LELCMVaG0_QctD9kpz34pkbHyeQKsy7KhBBfrRJWQlpQNT2ZwE-2ywpdl6ET2PN3sUx0_ry_j-fjfkFvTFtlcprkHFYei2dZpCkz0sBjtzsWgaUBb9RnApjmdYgom4c6bAj8CQwm4Fg614xZ7FqjKASArO9dZZHVd9pVduoXbkHLQ0LalW3URGigoi8PPBC1k4JPIFy66_DuonQNpWIaO3QoCm3WZXGMXQfJVW4Rb159TeN5WL2Hp3r8p5uy9L4mApfoC2N4qcWqMMfP-CKTJYC8w1oPaceFILcn4McEW4WnmnuGyZIAMMfAva89i02jWjEI2LaPHH7664LpbkMnnDsnFTaRmQlascIO9fJWiZ0_ELTft9DxJrj5cvvkARv4YPjVZqG3xnJkaNq9tUuHF92N5VkdS9o8axqXgg_TQasE1r2H9filfmDoL6rBQdR5cJEHNMMOmenmUoQi5-HWuY5VMBmwm0qLtVIv2MSjZMMlCTU6Yls_Cj5Coi4nWeSsnjEll2xgC-6m3PTtQ0MuWQ_biqIWcuJMvjp6ipkiq-Uqehqw_LlTLwiDLskrfi-Jhb8nawxl5aRAbgx0MvYSTu5RpKXuxys3a1vHvKqJTZ00FLaYw0g4RJSsUN7QLDuF3obdetOwsN7fyabTy0Wy5cXN_O-BrkT-wu5TyxEw2g2Y7BM4KjSnaf2_HMJl6JzI3Z7wAKsze74KN5t13jxIhiDSDFLnSX6H1fcVm7crpVBvVyPQJjPB7FmDwzldUUzLYiNF92NfVCiDdb72gGjTDFkMemfB-YJHtj3zPCnHNnLwb4PFM4yE6mbZCG3jM4LmKQP3nFM0DeaHtDiX8apiIPOmsn-06HBckFLYxrbO5_PaawzpsSsh5BW8G-pWq-75ezJXsBRgDNkrONDPZ1tKkTXOwDmuespGFAozkkxBZGLa4qgaJqyj0RzAGgxzdjJe_VL4R_FVFltMBrvISZVvbKJsabaKI3gLH59qwPp7wDSRw5Hb3bwYFxfdP7-GfeEclzmpcfP3qBAkDCBiwvxGPznLm-ba_elAUfeUdGiQknyperLIydlfGrSDR-dF0Cem736D_Bvh6F13PDrJYP1Kkw0dFq5TzJC2c7dEjA7GXD2phmp2rnmyRKN-ltCpx6t4SDg7_0G00]--></g></svg>