<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1844px" preserveAspectRatio="none" style="width:3609px;height:1844px;background:#FFFFFF;" version="1.1" viewBox="0 0 3609 1844" width="3609px" zoomAndPan="magnify"><title>Accept Invitation - Sequence Diagram (C4-L3)</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="361.0742" x="1620.3118" y="27.9951">Accept Invitation - Sequence Diagram (C4-L3)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="1632.4971" x="984.6003" y="1832.1357">Handles an "Accept Invitation" request, validate command, load article &amp; invitation by token, resolve/create reviewer via Auth gRPC if needed, accept invitation, assign reviewer, persist, and publish domain event to notify the editor.</text><rect fill="#E6F0FF" height="1773.8438" style="stroke:#181818;stroke-width:0.5;" width="1560.4302" x="393.1064" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="276.1309" x="1035.2561" y="69.2871">Application Layer</text><rect fill="#FFF0E0" height="1773.8438" style="stroke:#181818;stroke-width:0.5;" width="750.0273" x="1963.5366" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="217.6152" x="2229.7427" y="69.2871">Domain Layer</text><rect fill="#FFE0E0" height="1773.8438" style="stroke:#181818;stroke-width:0.5;" width="395.2734" x="2723.564" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="184.1465" x="2829.1274" y="69.2871">Persistence</text><rect fill="#E0F7FF" height="1773.8438" style="stroke:#181818;stroke-width:0.5;" width="468.8604" x="3128.8374" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="250.9473" x="3237.7939" y="69.2871">External &amp; Infra</text><g><title>AcceptInvitationHandler</title><rect fill="#FFFFFF" height="1457.625" style="stroke:#181818;stroke-width:1;" width="10" x="584.3369" y="245.9219"/></g><rect fill="none" height="276.5625" style="stroke:#000000;stroke-width:1.5;" width="2990.4849" x="387.1064" y="607.4844"/><g><title>Reviewer</title><rect fill="#000000" fill-opacity="0.00000" height="1556.8125" width="8" x="68.9482" y="164.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="72" x2="72" y1="164.7344" y2="1721.5469"/></g><g><title>AcceptInvitationHandler</title><rect fill="#000000" fill-opacity="0.00000" height="1556.8125" width="8" x="585.3369" y="164.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="589.1064" x2="589.1064" y1="164.7344" y2="1721.5469"/></g><g><title>AcceptInvitationValidator</title><rect fill="#000000" fill-opacity="0.00000" height="1556.8125" width="8" x="1010.8896" y="164.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1013.9946" x2="1013.9946" y1="164.7344" y2="1721.5469"/></g><g><title>EventPublisher</title><rect fill="#000000" fill-opacity="0.00000" height="1556.8125" width="8" x="1344.8818" y="164.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1348.7847" x2="1348.7847" y1="164.7344" y2="1721.5469"/></g><g><title>ReviewerAssignedHandler</title><rect fill="#000000" fill-opacity="0.00000" height="1556.8125" width="8" x="1738.0498" y="164.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1741.563" x2="1741.563" y1="164.7344" y2="1721.5469"/></g><g><title>Article</title><rect fill="#000000" fill-opacity="0.00000" height="1556.8125" width="8" x="2064.7637" y="164.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2068.5366" x2="2068.5366" y1="164.7344" y2="1721.5469"/></g><g><title>ReviewInvitation</title><rect fill="#000000" fill-opacity="0.00000" height="1556.8125" width="8" x="2357.1367" y="164.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2360.1636" x2="2360.1636" y1="164.7344" y2="1721.5469"/></g><g><title>Reviewer</title><rect fill="#000000" fill-opacity="0.00000" height="1556.8125" width="8" x="2604.3369" y="164.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2608.1099" x2="2608.1099" y1="164.7344" y2="1721.5469"/></g><g><title>Repository + DbContext</title><rect fill="#000000" fill-opacity="0.00000" height="1556.8125" width="8" x="2917.2007" y="164.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2920.564" x2="2920.564" y1="164.7344" y2="1721.5469"/></g><g><title>PersonService</title><rect fill="#000000" fill-opacity="0.00000" height="1556.8125" width="8" x="3246.2144" y="164.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3249.8374" x2="3249.8374" y1="164.7344" y2="1721.5469"/></g><g><title>EmailService</title><rect fill="#000000" fill-opacity="0.00000" height="1556.8125" width="8" x="3481.6445" y="164.7344"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3485.5913" x2="3485.5913" y1="164.7344" y2="1721.5469"/></g><g class="participant participant-head" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="129.8965" x="5" y="158.1309">Reviewer</text><ellipse cx="72.9482" cy="80.6406" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M72.9482,88.6406 L72.9482,115.6406 M59.9482,96.6406 L85.9482,96.6406 M72.9482,115.6406 L59.9482,130.6406 M72.9482,115.6406 L85.9482,130.6406" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="129.8965" x="5" y="1746.5371">Reviewer</text><ellipse cx="72.9482" cy="1761.6406" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M72.9482,1769.6406 L72.9482,1796.6406 M59.9482,1777.6406 L85.9482,1777.6406 M72.9482,1796.6406 L59.9482,1811.6406 M72.9482,1796.6406 L85.9482,1811.6406" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Handler"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="376.4609" x="401.1064" y="79.8906"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="362.4609" x="408.1064" y="114.7373">AcceptInvitationHandler</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="146.1182" x="516.2778" y="149.6592">(MediatR)</text></g><g class="participant participant-tail" data-participant="Handler"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="376.4609" x="401.1064" y="1720.5469"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="362.4609" x="408.1064" y="1755.3936">AcceptInvitationHandler</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="146.1182" x="516.2778" y="1790.3154">(MediatR)</text></g><g class="participant participant-head" data-participant="Validator"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="393.79" x="817.9946" y="79.8906"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="379.79" x="824.9946" y="114.7373">AcceptInvitationValidator</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="267.7148" x="881.0322" y="149.6592">(FluentValidation)</text></g><g class="participant participant-tail" data-participant="Validator"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="393.79" x="817.9946" y="1720.5469"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="379.79" x="824.9946" y="1755.3936">AcceptInvitationValidator</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="267.7148" x="881.0322" y="1790.3154">(FluentValidation)</text></g><g class="participant participant-head" data-participant="EventPub"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="238.1943" x="1229.7847" y="79.8906"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="224.1943" x="1236.7847" y="114.7373">EventPublisher</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="146.1182" x="1275.8228" y="149.6592">(MediatR)</text></g><g class="participant participant-tail" data-participant="EventPub"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="238.1943" x="1229.7847" y="1720.5469"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="224.1943" x="1236.7847" y="1755.3936">EventPublisher</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="146.1182" x="1275.8228" y="1790.3154">(MediatR)</text></g><g class="participant participant-head" data-participant="RAssignedH"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="406.9736" x="1538.563" y="79.8906"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="392.9736" x="1545.563" y="114.7373">ReviewerAssignedHandler</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="327.7881" x="1578.1558" y="149.6592">(MediatR Notification)</text></g><g class="participant participant-tail" data-participant="RAssignedH"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="406.9736" x="1538.563" y="1720.5469"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="392.9736" x="1545.563" y="1755.3936">ReviewerAssignedHandler</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="327.7881" x="1578.1558" y="1790.3154">(MediatR Notification)</text></g><g class="participant participant-head" data-participant="Article"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="194.4541" x="1971.5366" y="79.8906"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="96.2402" x="2020.6436" y="114.7373">Article</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="180.4541" x="1978.5366" y="149.6592">(Aggregate)</text></g><g class="participant participant-tail" data-participant="Article"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="194.4541" x="1971.5366" y="1720.5469"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="96.2402" x="2020.6436" y="1755.3936">Article</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="180.4541" x="1978.5366" y="1790.3154">(Aggregate)</text></g><g class="participant participant-head" data-participant="Invitation"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="263.9463" x="2229.1636" y="79.8906"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="249.9463" x="2236.1636" y="114.7373">ReviewInvitation</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="180.4541" x="2270.9097" y="149.6592">(Aggregate)</text></g><g class="participant participant-tail" data-participant="Invitation"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="263.9463" x="2229.1636" y="1720.5469"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="249.9463" x="2236.1636" y="1755.3936">ReviewInvitation</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="180.4541" x="2270.9097" y="1790.3154">(Aggregate)</text></g><g class="participant participant-head" data-participant="Reviewer"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="194.4541" x="2511.1099" y="79.8906"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="139.1748" x="2538.7495" y="114.7373">Reviewer</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="180.4541" x="2518.1099" y="149.6592">(Aggregate)</text></g><g class="participant participant-tail" data-participant="Reviewer"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="194.4541" x="2511.1099" y="1720.5469"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="139.1748" x="2538.7495" y="1755.3936">Reviewer</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="180.4541" x="2518.1099" y="1790.3154">(Aggregate)</text></g><g class="participant participant-head" data-participant="Persistence"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="379.2734" x="2731.564" y="79.8906"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="365.2734" x="2738.564" y="114.7373">Repository + DbContext</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="139.248" x="2851.5767" y="149.6592">(EF Core)</text></g><g class="participant participant-tail" data-participant="Persistence"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="379.2734" x="2731.564" y="1720.5469"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="365.2734" x="2738.564" y="1755.3936">Repository + DbContext</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="139.248" x="2851.5767" y="1790.3154">(EF Core)</text></g><g class="participant participant-head" data-participant="PersonSvc"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="226.7539" x="3136.8374" y="79.8906"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="212.7539" x="3143.8374" y="114.7373">PersonService</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="102.334" x="3199.0474" y="149.6592">(gRPC)</text></g><g class="participant participant-tail" data-participant="PersonSvc"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="226.7539" x="3136.8374" y="1720.5469"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="212.7539" x="3143.8374" y="1755.3936">PersonService</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="102.334" x="3199.0474" y="1790.3154">(gRPC)</text></g><g class="participant participant-head" data-participant="EmailSvc"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="208.1064" x="3381.5913" y="79.8906"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="194.1064" x="3388.5913" y="114.7373">EmailService</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="132.4951" x="3419.397" y="149.6592">(Module)</text></g><g class="participant participant-tail" data-participant="EmailSvc"><rect fill="#FFFFFF" height="83.8438" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="208.1064" x="3381.5913" y="1720.5469"/><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="194.1064" x="3388.5913" y="1755.3936">EmailService</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacing" textLength="132.4951" x="3419.397" y="1790.3154">(Module)</text></g><g><title>AcceptInvitationHandler</title><rect fill="#FFFFFF" height="1457.625" style="stroke:#181818;stroke-width:1;" width="10" x="584.3369" y="245.9219"/></g><g class="message" data-participant-1="Client" data-participant-2="Handler"><polygon fill="#181818" points="572.3369,241.9219,582.3369,245.9219,572.3369,249.9219,576.3369,245.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="72.9482" x2="578.3369" y1="245.9219" y2="245.9219"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="371.957" x="79.9482" y="204.7246">AcceptInvitationCommand</text><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="240.9258" x="79.9482" y="237.3184">(ArticleId, Token)</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3602.6978" x="0" y="283.2188"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3602.6978" y1="283.2188" y2="283.2188"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3602.6978" y1="286.2188" y2="286.2188"/><rect fill="#EEEEEE" height="40.5938" style="stroke:#000000;stroke-width:2;" width="321.5762" x="1640.5608" y="263.9219"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="297.8281" x="1646.5608" y="293.9121">Validate Command</text><g class="message" data-participant-1="Handler" data-participant-2="Validator"><polygon fill="#181818" points="1002.8896,349.1094,1012.8896,353.1094,1002.8896,357.1094,1006.8896,353.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="594.3369" x2="1008.8896" y1="353.1094" y2="353.1094"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="396.5527" x="601.3369" y="344.5059">ValidateOrThrow(command)</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3602.6978" x="0" y="390.4063"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3602.6978" y1="390.4063" y2="390.4063"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3602.6978" y1="393.4063" y2="393.4063"/><rect fill="#EEEEEE" height="40.5938" style="stroke:#000000;stroke-width:2;" width="409.7051" x="1596.4963" y="371.1094"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="385.957" x="1602.4963" y="401.0996">Load Article &amp; Invitation</text><g class="message" data-participant-1="Handler" data-participant-2="Persistence"><polygon fill="#181818" points="2909.2007,456.2969,2919.2007,460.2969,2909.2007,464.2969,2913.2007,460.2969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="594.3369" x2="2915.2007" y1="460.2969" y2="460.2969"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="595.1777" x="601.3369" y="451.6934">GetArticleByIdOrThrow(articleId)  &#8594; article</text></g><g class="message" data-participant-1="Handler" data-participant-2="Persistence"><polygon fill="#181818" points="2909.2007,527.8906,2919.2007,531.8906,2909.2007,535.8906,2913.2007,531.8906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="594.3369" x2="2915.2007" y1="531.8906" y2="531.8906"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="706.125" x="601.3369" y="523.2871">GetInvitationByTokenOrThrow(token)  &#8594; invitation</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3602.6978" x="0" y="569.1875"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3602.6978" y1="569.1875" y2="569.1875"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3602.6978" y1="572.1875" y2="572.1875"/><rect fill="#EEEEEE" height="40.5938" style="stroke:#000000;stroke-width:2;" width="441.0273" x="1580.8352" y="549.8906"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="417.2793" x="1586.8352" y="579.8809">Resolve / Ensure Reviewer</text><path d="M387.1064,607.4844 L473.9834,607.4844 L473.9834,632.0781 L463.9834,642.0781 L387.1064,642.0781 L387.1064,607.4844" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="276.5625" style="stroke:#000000;stroke-width:1.5;" width="2990.4849" x="387.1064" y="607.4844"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="41.877" x="402.1064" y="634.4746">alt</text><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="355.8789" x="488.9834" y="635.4746">[Invitation has UserId]</text><g class="message" data-participant-1="Handler" data-participant-2="Persistence"><polygon fill="#181818" points="2909.2007,694.2656,2919.2007,698.2656,2909.2007,702.2656,2913.2007,698.2656" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="594.3369" x2="2915.2007" y1="698.2656" y2="698.2656"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="737.666" x="601.3369" y="689.6621">(1A) GetReviewerByUserIdAsync(userId)  &#8594; reviewer</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="387.1064" x2="3377.5913" y1="732.2656" y2="732.2656"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="416.377" x="392.1064" y="758.2559">[Invitation has Email only]</text><g class="message" data-participant-1="Handler" data-participant-2="PersonSvc"><polygon fill="#181818" points="3238.2144,800.4531,3248.2144,804.4531,3238.2144,808.4531,3242.2144,804.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="594.3369" x2="3244.2144" y1="804.4531" y2="804.4531"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="851.6211" x="601.3369" y="795.8496">(1B) CreatePersonAsync(createPersonRequest) &#8594; personInfo</text></g><g class="message" data-participant-1="Handler" data-participant-2="Reviewer"><polygon fill="#181818" points="2596.3369,872.0469,2606.3369,876.0469,2596.3369,880.0469,2600.3369,876.0469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="594.3369" x2="2602.3369" y1="876.0469" y2="876.0469"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="557.5801" x="601.3369" y="867.4434">CreateReviewer(personInfo) &#8594; reviewer</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3602.6978" x="0" y="920.3438"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3602.6978" y1="920.3438" y2="920.3438"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3602.6978" y1="923.3438" y2="923.3438"/><rect fill="#EEEEEE" height="40.5938" style="stroke:#000000;stroke-width:2;" width="279.5215" x="1661.5881" y="901.0469"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="255.7734" x="1667.5881" y="931.0371">Accept &amp; Assign</text><g class="message" data-participant-1="Handler" data-participant-2="Invitation"><polygon fill="#181818" points="2349.1367,986.2344,2359.1367,990.2344,2349.1367,994.2344,2353.1367,990.2344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="594.3369" x2="2355.1367" y1="990.2344" y2="990.2344"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="249.8945" x="601.3369" y="981.6309">AcceptInvitation()</text></g><g class="message" data-participant-1="Handler" data-participant-2="Article"><polygon fill="#181818" points="2056.7637,1057.8281,2066.7637,1061.8281,2056.7637,1065.8281,2060.7637,1061.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="594.3369" x2="2062.7637" y1="1061.8281" y2="1061.8281"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="365.3262" x="601.3369" y="1053.2246">AssignReviewer(reviewer)</text></g><g class="message" data-participant-1="Article" data-participant-2="Article"><line style="stroke:#181818;stroke-width:1;" x1="2068.7637" x2="2110.7637" y1="1141.0156" y2="1141.0156"/><line style="stroke:#181818;stroke-width:1;" x1="2110.7637" x2="2110.7637" y1="1141.0156" y2="1154.0156"/><line style="stroke:#181818;stroke-width:1;" x1="2069.7637" x2="2110.7637" y1="1154.0156" y2="1154.0156"/><polygon fill="#181818" points="2079.7637,1150.0156,2069.7637,1154.0156,2079.7637,1158.0156,2075.7637,1154.0156" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="243.5645" x="2075.7637" y="1099.8184">AddDomainEvent</text><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="278.373" x="2075.7637" y="1132.4121">(ReviewerAssigned)</text></g><path d="M2073,1167.0156 L2073,1209.0156 L2941,1209.0156 L2941,1177.0156 L2931,1167.0156 L2073,1167.0156" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2931,1167.0156 L2931,1177.0156 L2941,1177.0156 L2931,1167.0156" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="847.1367" x="2079" y="1198.0059">Domain event is added to the\naggregate&#8217;s pending events.</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3602.6978" x="0" y="1243.9063"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3602.6978" y1="1243.9063" y2="1243.9063"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3602.6978" y1="1246.9063" y2="1246.9063"/><rect fill="#EEEEEE" height="40.5938" style="stroke:#000000;stroke-width:2;" width="409.6914" x="1596.5032" y="1224.6094"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="385.9434" x="1602.5032" y="1254.5996">Persist &amp; Publish Events</text><g class="message" data-participant-1="Handler" data-participant-2="Persistence"><polygon fill="#181818" points="2909.2007,1309.7969,2919.2007,1313.7969,2909.2007,1317.7969,2913.2007,1313.7969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="594.3369" x2="2915.2007" y1="1313.7969" y2="1313.7969"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="295.8184" x="601.3369" y="1305.1934">SaveChangesAsync()</text></g><g class="message" data-participant-1="Persistence" data-participant-2="EventPub"><polygon fill="#181818" points="1359.8818,1388.9844,1349.8818,1392.9844,1359.8818,1396.9844,1355.8818,1392.9844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1353.8818" x2="2920.2007" y1="1392.9844" y2="1392.9844"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="325.5957" x="1365.8818" y="1351.7871">PublishDomainEvents()</text><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="403.3066" x="1365.8818" y="1384.3809">[includes ReviewerAssigned]</text></g><g class="message" data-participant-1="EventPub" data-participant-2="RAssignedH"><polygon fill="#181818" points="1730.0498,1460.5781,1740.0498,1464.5781,1730.0498,1468.5781,1734.0498,1464.5781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1348.8818" x2="1736.0498" y1="1464.5781" y2="1464.5781"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="369.168" x="1355.8818" y="1455.9746">Handle(reviewerAssigned)</text></g><g class="message" data-participant-1="RAssignedH" data-participant-2="EmailSvc"><polygon fill="#181818" points="3473.6445,1507.1719,3483.6445,1511.1719,3473.6445,1515.1719,3477.6445,1511.1719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1742.0498" x2="3479.6445" y1="1511.1719" y2="1511.1719"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="335.9043" x="1749.0498" y="1502.5684">SendEmailAsync(editor)</text></g><path d="M1747,1524.1719 L1747,1566.1719 L2588,1566.1719 L2588,1534.1719 L2578,1524.1719 L1747,1524.1719" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2578,1524.1719 L2578,1534.1719 L2588,1534.1719 L2578,1524.1719" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="820.5996" x="1753" y="1555.1621">Notify editor that the reviewer was assigned to the article.</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="3602.6978" x="0" y="1601.0625"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3602.6978" y1="1601.0625" y2="1601.0625"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="3602.6978" y1="1604.0625" y2="1604.0625"/><rect fill="#EEEEEE" height="40.5938" style="stroke:#000000;stroke-width:2;" width="175.834" x="1713.4319" y="1581.7656"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="152.0859" x="1719.4319" y="1611.7559">Response</text><g class="message" data-participant-1="Handler" data-participant-2="Client"><polygon fill="#181818" points="83.9482,1699.5469,73.9482,1703.5469,83.9482,1707.5469,79.9482,1703.5469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="77.9482" x2="588.3369" y1="1703.5469" y2="1703.5469"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="363.7813" x="89.9482" y="1662.3496">AcceptInvitationResponse</text><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacing" textLength="487.3887" x="89.9482" y="1694.9434">(ArticleId, InvitationId, ReviewerId)</text></g><!--SRC=[XLRRRXit47tdLmna8DMYTkB4WLi8iG7TjX7Wf8AKjWzr7wXTIYAy9hTSQcsr3f2dVa3V-dlvaWvlUvEhme2ivSwScJayCwFYZekSAdeF4xQckqp7KkWb_uF1c-z9KRt4JyqJdbEXuKy2K5bTdEFJY2Pt6oLt8XtBJ2huPSirC-TIfKovir66HkHp0tDUOyvfcdAnWRUDroFv-DnnmwiJzjsx9LCbJzZrDPp4RymV8T_Kdals-uw9X4ruoJ6jPg7_OwNt6OELpD8ZXbqEJkAB-3AEZtaqs3aPNqvUepKXcciCDamIbckOYP9hghaKS5QvmuJJZS7hZz-UtLn49A6vDNbFHPgn0gY0tW503vJnB_Gfb3JZATKC4db_Zpwda4cQWYKMOxy0NeTTxK7BEoPEqRsGMSbU9OePNyLApXwOWf9J6Exq5ZQB-HZu6WHZAKDGwbAemV2eAFX6LBwda3DLS9CJfW7vRfNnOWkflATS02iPgarB45BpDUQnPS1IhgLwIGXDy3-CCsviQ06zXSVi4RAIZz23OPvdF75LtD0zPjg3a-bbV8uqGqlGZZTbOHnlDMt-tQteVy3OL2-YNiVxPyUcVDw_Uei8SORtf_q9lZk0cfgAvxkLHGeFXfAZ2Io6bbMMlcyHKPrsAu2FXazF3Q8nf1uf2xnD7FiLPN4Sdq_FEp67NYksPFST0mmt6yKsg8w371j2hdEi3u_wXe9QrNKyEZNCdQnijzWIfeSbD6qSSYuBewuzV0kJrHWRdprgZ3EDOIpLCr6cZvefGJFic9bOAse5TXv_To0m4qgAPPdOGFx9pIh4DtrpA0MyX2nuk8VAuODCTrah7zy7PzULbWVGLUBODRiXpbtO37lqa-djo7GJBqrNUtT2hgw2i1buJxYw8W4U8zMw7rIcFwfFMoKV-dwmH1RdnWoNOJLS6b9e0pOlP00_CErzHljP6e1fI3q2-FhNts5caQUdfwDGTT3HtjOS0Ermys3rf28syOMRUF0AfgBOALOh4HEdMKlLMxoddmgcPYbUv7zcqdyzZ4mw0MYqTpx3OY-I_iv-zyc46ObmfZYM5QmRpye2fCZsXp6Tt4p4KGHZExBTiGkLD4uMRYz4DcnkZr3EqWTk8LS433ncEEZNVb4xVTIe9TClf1VWvbBdxXkL7Igt7tNlDwXfuD6gD4BOY0IJjdMQkl5cXoksGdTOHWIN3IutljbgaElWYYnCcak9uv9DSScPxOHhwLRGC8k-VlcdG1A5_TrYZOkNjayDhYN2AmAPyCFTZVtYQ3SiQSd6Moesh70N696c0TfNksCGS1kL5lteLlpAHPBjKlo1qAtwDyjlXM0kkjuf0o-0YjkQguQLoI2CB4mNAxQFBbctjRlSrjv8xqUtuvqbSagrtVVLhum7r3lrzfxrqFmTVh5hSocmMvfyOdf-HXxAApYq9sFztZm5nh0zISgwu_9V]--></g></svg>